{"version":3,"sources":["common/images/image_src/208_pwSymbol_01.jpg","common/images/mana_symbols sync /.svg$","common/images/mana_symbols/symbol_id_0.svg","common/images/mana_symbols/symbol_id_1.svg","common/images/mana_symbols/symbol_id_10.svg","common/images/mana_symbols/symbol_id_11.svg","common/images/mana_symbols/symbol_id_12.svg","common/images/mana_symbols/symbol_id_13.svg","common/images/mana_symbols/symbol_id_14.svg","common/images/mana_symbols/symbol_id_15.svg","common/images/mana_symbols/symbol_id_16.svg","common/images/mana_symbols/symbol_id_17.svg","common/images/mana_symbols/symbol_id_18.svg","common/images/mana_symbols/symbol_id_19.svg","common/images/mana_symbols/symbol_id_2.svg","common/images/mana_symbols/symbol_id_20.svg","common/images/mana_symbols/symbol_id_21.svg","common/images/mana_symbols/symbol_id_22.svg","common/images/mana_symbols/symbol_id_23.svg","common/images/mana_symbols/symbol_id_24.svg","common/images/mana_symbols/symbol_id_25.svg","common/images/mana_symbols/symbol_id_26.svg","common/images/mana_symbols/symbol_id_27.svg","common/images/mana_symbols/symbol_id_28.svg","common/images/mana_symbols/symbol_id_29.svg","common/images/mana_symbols/symbol_id_3.svg","common/images/mana_symbols/symbol_id_30.svg","common/images/mana_symbols/symbol_id_31.svg","common/images/mana_symbols/symbol_id_32.svg","common/images/mana_symbols/symbol_id_33.svg","common/images/mana_symbols/symbol_id_34.svg","common/images/mana_symbols/symbol_id_35.svg","common/images/mana_symbols/symbol_id_36.svg","common/images/mana_symbols/symbol_id_37.svg","common/images/mana_symbols/symbol_id_38.svg","common/images/mana_symbols/symbol_id_39.svg","common/images/mana_symbols/symbol_id_4.svg","common/images/mana_symbols/symbol_id_40.svg","common/images/mana_symbols/symbol_id_41.svg","common/images/mana_symbols/symbol_id_42.svg","common/images/mana_symbols/symbol_id_43.svg","common/images/mana_symbols/symbol_id_44.svg","common/images/mana_symbols/symbol_id_45.svg","common/images/mana_symbols/symbol_id_46.svg","common/images/mana_symbols/symbol_id_47.svg","common/images/mana_symbols/symbol_id_48.svg","common/images/mana_symbols/symbol_id_49.svg","common/images/mana_symbols/symbol_id_5.svg","common/images/mana_symbols/symbol_id_50.svg","common/images/mana_symbols/symbol_id_51.svg","common/images/mana_symbols/symbol_id_52.svg","common/images/mana_symbols/symbol_id_53.svg","common/images/mana_symbols/symbol_id_54.svg","common/images/mana_symbols/symbol_id_55.svg","common/images/mana_symbols/symbol_id_56.svg","common/images/mana_symbols/symbol_id_57.svg","common/images/mana_symbols/symbol_id_58.svg","common/images/mana_symbols/symbol_id_59.svg","common/images/mana_symbols/symbol_id_6.svg","common/images/mana_symbols/symbol_id_60.svg","common/images/mana_symbols/symbol_id_61.svg","common/images/mana_symbols/symbol_id_62.svg","common/images/mana_symbols/symbol_id_63.svg","common/images/mana_symbols/symbol_id_7.svg","common/images/mana_symbols/symbol_id_8.svg","common/images/mana_symbols/symbol_id_9.svg","common/cached_data/SessionInfo.js","common/elements/CommonButtons.js","pages/home/elements/Buttons.js","pages/home/elements/PlaneswalkerSymbol.js","pages/home/HomePage.js","pages/home/UserListingPage.js","pages/login/elements/Buttons.js","pages/login/LoginPage.js","pages/login/SignupPage.js","pages/listing/elements/Buttons.js","common/images/CardImagePanel.js","pages/listing/elements/ListingsTableElem.js","pages/listing/elements/ListingsTable.js","pages/listing/ListingsMainPage.js","pages/listing/elements/SearchPopupBody.js","pages/listing/elements/SearchPopupWindow.js","pages/listing/CreateCollectionPage.js","common/functions/ReadCurrURLParamsAsJSON.js","pages/listing/EditCollectionPage.js","pages/download/DownloadPage.js","pages/collection/elements/SearchResultElement.js","pages/collection/elements/SearchBox.js","common/cached_data/ManaCostWebkit.js","common/functions/ReplaceManaCostWithSVGSymbol.js","common/images/ManaCostPanel.js","pages/collection/elements/CollectionTableElement.js","pages/collection/elements/CollectionPageNavPanel.js","pages/collection/elements/CollectionTable.js","pages/collection/elements/CollectionTableListForm.js","pages/collection/elements/Buttons.js","pages/collection/CollectionPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","SessionInfo","undefined","this","resetSession","ColName","LoginID","ColID","LoginName","isAuth","auth","LoginUser","CollectionName","CollectionID","UserID","HomeButton","to","type","Component","SignoutButton","signout","alert","onClick","CollectionListButton","LoginButton","DownloadBulkDataButton","props","ButtonTextChange","state","disabled","fetch","then","res","json","ress","setState","UserListButton","variant","PlaneswalkerSymbol","src","PWimage","alt","HomePage","class","renderWelcomeUser","renderLoginCollectionButton","getSessionUser","getSessionStatus","UserListingPage","getList","list","className","length","item","SignupButton","LoginPage","renderLoginForm","method","onSubmit","handleSubmit","name","value","formControls","onChange","handleChange","password","postResponse","preventDefault","headers","body","JSON","stringify","text","parsedbody","parse","setSessionState","setLoginUser","username","setLoginUserID","history","push","pathname","search","page","target","error","SignupPage","renderSignupForm","email","a","response","CreateCollectionButton","SelectCollectionButton","link_url","EditCollectionButton","DeleteCollectionButton","deleteCollection","collectionID","updateTopmostState","col_id","CardImagePanel","loadImage","cardObj","image_type","result","cardImageURI","uri","cardImageObj","data","imageType","imgType","loadImageByID","card_id","defaultCSS","width","height","padding","margin","paramsType","style","toString","itemName","ListingsTableElement","renderTableElem","currCSS","flex","description","card_count","sum","edit_url","handleJSONDownload","handleCSVDownload","loadChanges","showcase_card_id","loadCardObj","obj","callback","id_key","blob","url","window","URL","createObjectURL","document","createElement","href","download","click","ListingsTable","renderListingTitle","renderListingItems","collectionList","ListingsTableElem","encodeURIComponent","updateState","loadList","postresponse","userID","getSessionUserID","ListingsMainPage","loading","bind","SearchPopupBody","renderSearchBox","backgroundColor","display","cardName","changeHandler","right","cardID","submittable","renderResults","setChosenCard","event","catch","err","setPreviewThenTogglePopup","info","SearchPopupElement","handleSelect","set","toUpperCase","SearchPopupWindow","closePopup","CreateCollectionPage","handleCardSearch","togglePopup","showPopup","previewCardName","newformControls","preview","desc","renderForm","defaultPreview","cols","wrap","readCurrURLParamsAsJSON","params","location","split","forEach","items","concat","decodeURIComponent","substring","EditCollectionPage","renderPopupWindow","loadDefaultValue","filter","newFormControls","resp","DownloadPage","redirect","readURLAsJSONAPIString","fetchpath","func","slice","replace","ImageCSS","position","top","left","HiddenImageCSS","SearchResultElement","handleMouseEnter","newBoxStyle","boxStyle","color","showImage","handleMouseLeave","hideImage","handleCardMouseDown","nonfoilBox","handleFoilMouseDown","foilBox","handleCardMouseUp","newFoilBoxStyle","selectFoil","chosenIsFoil","set_id","selectCard","imageCSS","border","titleBox","selectBox","getCollectionID","onMouseEnter","onMouseLeave","image_uris","border_crop","set_name","nonfoil","onMouseDown","onMouseUp","prices","usd","foil","usd_foil","Dropdown","overflow","SearchBox","ManaCostWebkit","retrieveWebkit","listOfManaIcons","require","replaceManaCostWithSVGSymbol","stringRepresentation","listOfCosts","sym","resolved_list","ManaCostPanel","updateManaCost","mana_cost","layout","card_faces","join","listURL","listFileName","trim","listSVGFiles","listofManaSymbols","p","includes","i","key","listofSVGs","message","renderManaSymbol","size","AddRemoveButtonCSS","font","CollectionTableElement","renderRowElement","resBoxCSS","justifyContent","rarity","type_line","cardInfo","is_foil","amt","handleAddCard","handleRemoveCard","loadRowObjs","CollectionPageNavPanel","renderNavPanel","handleLastPage","lastDisabled","currPage","Math","ceil","totalElems","elemPerPage","handleNextPage","nextDisabled","loadDisabled","last","next","CollectionTable","renderTable","loadSortedList","renderTableTitle","renderTableElems","index","valueOf","sort","b","localeCompare","nextPage","collectionName","getCollectionName","CollectionTableListForm","renderDropdownPanel","renderListPanel","loadDefaultSortedList","currIndex","renderListByCMC","renderListByColors","renderListBySet","renderListByPrice","renderListDefaultSort","renderListElement","showprice","f","price","priceStr","Number","parseFloat","toFixed","fontWeight","handleSortMethodChange","sortIndices","newlist","a_price","renderListByType","cmc","prevCMC","multiList","colors","colorlessList","monoList","ind","renderMulticolorSublist","renderMonocolorSublist","renderColorlessSublist","newPageTrigger","prevColor","colorKeys","n","lstOfIds","opts","sortIndexKeys","SwitchToListViewButton","SwitchToFullViewButton","CollectionPage","renderToolbar","asList","handleViewSwitch","renderSearchBar","renderCollectionBar","cardTableProps","cardTable","loadTable","newCardTableProps","userName","readCurrURLParamsAsJSONString","setCollectionName","collection","setCollectionID","App","initializeSession","exact","path","component","render","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"2HAAAA,EAAOC,QAAU,IAA0B,6C,oICA3C,IAAIC,EAAM,CACT,oBAAqB,GACrB,oBAAqB,GACrB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,oBAAqB,GACrB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,oBAAqB,GACrB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,oBAAqB,GACrB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,oBAAqB,GACrB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,GACtB,qBAAsB,IACtB,qBAAsB,IACtB,qBAAsB,IACtB,oBAAqB,IACrB,qBAAsB,IACtB,qBAAsB,IACtB,qBAAsB,IACtB,qBAAsB,IACtB,oBAAqB,IACrB,oBAAqB,IACrB,oBAAqB,KAItB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBN,EAAOC,QAAUE,EACjBA,EAAeE,GAAK,I,gBCrFpBL,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,Q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","file":"static/js/main.6ecb389d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/208_pwSymbol_01.ab9ed648.jpg\";","var map = {\n\t\"./symbol_id_0.svg\": 47,\n\t\"./symbol_id_1.svg\": 48,\n\t\"./symbol_id_10.svg\": 49,\n\t\"./symbol_id_11.svg\": 50,\n\t\"./symbol_id_12.svg\": 51,\n\t\"./symbol_id_13.svg\": 52,\n\t\"./symbol_id_14.svg\": 53,\n\t\"./symbol_id_15.svg\": 54,\n\t\"./symbol_id_16.svg\": 55,\n\t\"./symbol_id_17.svg\": 56,\n\t\"./symbol_id_18.svg\": 57,\n\t\"./symbol_id_19.svg\": 58,\n\t\"./symbol_id_2.svg\": 59,\n\t\"./symbol_id_20.svg\": 60,\n\t\"./symbol_id_21.svg\": 61,\n\t\"./symbol_id_22.svg\": 62,\n\t\"./symbol_id_23.svg\": 63,\n\t\"./symbol_id_24.svg\": 64,\n\t\"./symbol_id_25.svg\": 65,\n\t\"./symbol_id_26.svg\": 66,\n\t\"./symbol_id_27.svg\": 67,\n\t\"./symbol_id_28.svg\": 68,\n\t\"./symbol_id_29.svg\": 69,\n\t\"./symbol_id_3.svg\": 70,\n\t\"./symbol_id_30.svg\": 71,\n\t\"./symbol_id_31.svg\": 72,\n\t\"./symbol_id_32.svg\": 73,\n\t\"./symbol_id_33.svg\": 74,\n\t\"./symbol_id_34.svg\": 75,\n\t\"./symbol_id_35.svg\": 76,\n\t\"./symbol_id_36.svg\": 77,\n\t\"./symbol_id_37.svg\": 78,\n\t\"./symbol_id_38.svg\": 79,\n\t\"./symbol_id_39.svg\": 80,\n\t\"./symbol_id_4.svg\": 81,\n\t\"./symbol_id_40.svg\": 82,\n\t\"./symbol_id_41.svg\": 83,\n\t\"./symbol_id_42.svg\": 84,\n\t\"./symbol_id_43.svg\": 85,\n\t\"./symbol_id_44.svg\": 86,\n\t\"./symbol_id_45.svg\": 87,\n\t\"./symbol_id_46.svg\": 88,\n\t\"./symbol_id_47.svg\": 89,\n\t\"./symbol_id_48.svg\": 90,\n\t\"./symbol_id_49.svg\": 91,\n\t\"./symbol_id_5.svg\": 92,\n\t\"./symbol_id_50.svg\": 93,\n\t\"./symbol_id_51.svg\": 94,\n\t\"./symbol_id_52.svg\": 95,\n\t\"./symbol_id_53.svg\": 96,\n\t\"./symbol_id_54.svg\": 97,\n\t\"./symbol_id_55.svg\": 98,\n\t\"./symbol_id_56.svg\": 99,\n\t\"./symbol_id_57.svg\": 100,\n\t\"./symbol_id_58.svg\": 101,\n\t\"./symbol_id_59.svg\": 102,\n\t\"./symbol_id_6.svg\": 103,\n\t\"./symbol_id_60.svg\": 104,\n\t\"./symbol_id_61.svg\": 105,\n\t\"./symbol_id_62.svg\": 106,\n\t\"./symbol_id_63.svg\": 107,\n\t\"./symbol_id_7.svg\": 108,\n\t\"./symbol_id_8.svg\": 109,\n\t\"./symbol_id_9.svg\": 110\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46;","module.exports = __webpack_public_path__ + \"static/media/symbol_id_0.edcd7874.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_1.45b45f0d.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_10.26c84b15.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_11.7a34f769.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_12.03f08dd1.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_13.304c987e.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_14.a01fca40.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_15.7c0af7f0.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_16.34951976.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_17.c0d22678.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_18.00e473ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_19.467d1575.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_2.11fbfa25.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_20.363ef301.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_21.108ad36b.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_22.fcb14f0e.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_23.73284f3c.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_24.c75c4c27.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_25.2ed65305.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_26.177486b1.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_27.9e3c6af6.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_28.cb3ca879.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_29.e6e48b74.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_3.72f5d34b.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_30.547222e3.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_31.4b9e7bcd.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_32.142f1e6f.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_33.26c05ea2.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_34.5c514123.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_35.dc2d4ae0.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_36.2a36aa27.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_37.99723549.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_38.1be3e9b4.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_39.0e8dbdfa.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_4.9021a8e9.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_40.58e44aa6.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_41.8481aae0.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_42.0fc56214.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_43.f82bf1fb.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_44.9d15839d.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_45.d1678570.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_46.33f20a0b.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_47.f0579746.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_48.815635e5.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_49.09f701c3.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_5.840dffff.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_50.7caa5c21.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_51.d54663a1.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_52.0a0efd31.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_53.ff955daf.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_54.79ace74a.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_55.a1b6963c.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_56.5116042e.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_57.1e69196c.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_58.e000fcce.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_59.8417e159.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_6.1b2a0cc9.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_60.0b843b2d.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_61.d4006bb3.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_62.d7efd0c8.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_63.2bf5840f.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_7.82e811b7.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_8.2d0ca8d3.svg\";","module.exports = __webpack_public_path__ + \"static/media/symbol_id_9.380cb590.svg\";","class SessionInfo {\r\n\r\n    static #LoginUser;\r\n    static #LoginUserID;\r\n    static #isAuth;\r\n    static #CollectionName;\r\n    static #CollectionID;\r\n\r\n    static initializeSession() {\r\n        if ((this.#LoginUser === undefined) && (this.#isAuth === undefined) && (this.#CollectionName === undefined)) {\r\n            SessionInfo.resetSession();\r\n        }\r\n    }\r\n    static getSessionUser() {\r\n        return this.#LoginUser;\r\n    };\r\n\r\n    static getSessionUserID() {\r\n        return this.#LoginUserID;\r\n    };\r\n\r\n    static getCollectionName() {\r\n        return this.#CollectionName;\r\n    };\r\n\r\n    static getCollectionID() {\r\n        return this.#CollectionID;\r\n    };\r\n\r\n    static getSessionStatus() {\r\n        return this.#isAuth;\r\n    }\r\n\r\n    static resetSession() {\r\n        this.#CollectionName = '';\r\n        this.#LoginUserID = 0;\r\n        this.#CollectionID = 0;\r\n        this.#LoginUser = '';\r\n        this.#isAuth = false;\r\n    }\r\n\r\n    static getSessionInfo() { \r\n        return ({\r\n            ColName: this.#CollectionName, \r\n            LoginID: this.#LoginUserID, \r\n            ColID: this.#CollectionID, \r\n            LoginName: this.#LoginUser, \r\n            isAuth: this.#isAuth})\r\n    }\r\n    \r\n    static setSessionState(auth) {\r\n        this.#isAuth = auth;\r\n    }\r\n\r\n    static setLoginUser(LoginUser) {\r\n        this.#LoginUser = LoginUser;\r\n    }\r\n\r\n    static setCollectionName(CollectionName) {\r\n        this.#CollectionName = CollectionName;\r\n    }\r\n\r\n    static setCollectionID(CollectionID) {\r\n        this.#CollectionID = CollectionID;\r\n    }\r\n\r\n    static setLoginUserID(UserID) {\r\n        this.#LoginUserID = UserID;\r\n    }\r\n\r\n};\r\n\r\nexport default SessionInfo;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SessionInfo from '../cached_data/SessionInfo';\r\n\r\nclass HomeButton extends Component {\r\n  //Button that links to the Home page\r\n  render() {\r\n      return (<Link to={'./'}><button type= \"button\">Home</button></Link>);\r\n    }\r\n  }\r\n\r\nclass SignoutButton extends Component {\r\n  //Button that Signs out and returns to Home page\r\n\r\n  signout = () => {\r\n      alert(\"Signing out\");\r\n      SessionInfo.resetSession();\r\n  }\r\n\r\n  render() {\r\n    return(<Link to={'./'}><button type= \"button\" onClick = {() => this.signout()}>Sign Out</button></Link>);\r\n  } \r\n}\r\n\r\nclass CollectionListButton extends Component {\r\n  //Button that links to the CollectionsList page\r\n  render() {\r\n    return (<Link to={'./collections?page=default'}><button type= \"button\">Your Collections</button></Link>);\r\n  }\r\n}\r\n\r\nclass LoginButton extends Component {\r\n  //Button the links to the Login page\r\n  render() {\r\n    return (<Link to={'./login'}><button type= \"button\">Login</button></Link>);\r\n  }\r\n}\r\n\r\n\r\nexport {  \r\n  HomeButton,\r\n  SignoutButton, \r\n  CollectionListButton, \r\n  LoginButton\r\n};","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nclass DownloadBulkDataButton extends Component {\r\n  //Button that downloads Scryfall data. Should only be accessed at most once per day, and will be disabled otherwise\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      disabled: true\r\n    }\r\n  }\r\n\r\n  //Checks if the data needs updating. The button will be enabled only if it does needs updating.\r\n  componentDidMount() {\r\n    fetch('/api/fetch-card/check-updateable')\r\n    .then((res) =>{return res.json()})\r\n    .then((ress) => \r\n      {if (ress === -1) { \r\n        this.setState({disabled: false});\r\n      } else {\r\n        this.setState({disabled: true});\r\n      }});\r\n  }\r\n\r\n  //Changes the button text to reflect status of data\r\n  ButtonTextChange = () => {\r\n    if (!(this.state.disabled)) {\r\n      return \"Update Scryfall Data\";\r\n    } else {\r\n      return \"Data Up to Date\"\r\n    }\r\n  }\r\n\r\n  render (){\r\n    return (<Link to={'./downloads?func=fetch-card%2Fdownload-bulk-data'}><button type= \"button\" disabled= {this.state.disabled} >{this.ButtonTextChange()}{this.state.disabled}</button></Link>);\r\n  }\r\n}\r\nclass UserListButton extends Component {\r\n  render() {\r\n    return(\r\n      <Link to={'./userlist'}>\r\n            <button variant=\"raised\">\r\n                Users\r\n            </button>\r\n      </Link>\r\n    )\r\n  }\r\n}\r\n\r\nexport {  \r\n  DownloadBulkDataButton,\r\n  UserListButton\r\n};","import React, { Component } from 'react';\r\nimport PWimage from '../../../common/images/image_src/208_pwSymbol_01.jpg';\r\n\r\nclass PlaneswalkerSymbol extends Component {\r\n    //Container for the Planeswalker image\r\n    render() {\r\n        return (<img src={PWimage} alt=\"PW Symbol\"/>)\r\n    }\r\n}\r\n\r\nexport default PlaneswalkerSymbol;","import React, { Component } from 'react';\nimport {LoginButton, CollectionListButton} from '../../common/elements/CommonButtons';\nimport {DownloadBulkDataButton, UserListButton} from './elements/Buttons'\nimport SessionInfo from '../../common/cached_data/SessionInfo';\nimport PlaneswalkerSymbol from './elements/PlaneswalkerSymbol';\nimport './css/Home.css'\n\nclass HomePage extends Component {\n\n  render() {\n    return (\n    <div class='home_page'>\n        <div><h1>MTG Card Manager</h1></div>\n        <div>{this.renderWelcomeUser()}</div>\n        <div><PlaneswalkerSymbol/></div>\n        <div>\n          <UserListButton/>\n          {this.renderLoginCollectionButton()}\n          <DownloadBulkDataButton/>\n        </div>\n    </div>\n    );\n  }\n\n  //Render functions\n\n  renderWelcomeUser() {\n      //alert(SessionInfo.getSessionUser());\n      if (!(SessionInfo.getSessionUser() === '')) {\n        return (<h1> Welcome {SessionInfo.getSessionUser()} </h1>)\n      } else {\n        return null;\n      }\n  }\n\n  renderLoginCollectionButton() {\n    if (SessionInfo.getSessionStatus() === true) {\n      return (<CollectionListButton/>)\n    } else {\n      return <LoginButton/>\n    }\n  }\n  \n}\nexport default HomePage;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass UserListingPage extends Component {\n  // Initialize the state\n  constructor(props){\n    super(props);\n    this.state = {\n      list: []\n    }\n  }\n\n  // Fetch the list on first mount\n  componentDidMount() {\n    this.getList();\n  }\n\n  // Retrieves the list of items from the Express app\n  getList = () => {\n    fetch('/api/getList')\n    .then(res => res.json())\n    .then(list => this.setState({ list }))\n  }\n\n  render() {\n    const { list } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h1>List of Users</h1>\n        {/* Check to see if any items are found*/}\n        {list.length ? (\n          <div>\n            {/* Render the list of items */}\n            {list.map((item) => {\n              return(\n                <div>\n                  {item}\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          <div>\n            <h2>No Users Found</h2>\n          </div>\n        )\n      }\n            <Link to={'./'}><button type= \"button\">Back to Homepage</button></Link>\n      </div>\n    );\n  }\n}\n\nexport default UserListingPage;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass SignupButton extends Component {\r\n    //Button that links to the Sign-Up page\r\n    render() {\r\n      return (<Link to={'./signup'}><button type= \"button\">Sign Up Now!</button></Link>);\r\n    }\r\n}\r\n\r\nexport {\r\n    SignupButton\r\n}","import React, { Component } from 'react';\nimport {HomeButton} from '../../common/elements/CommonButtons';\nimport SessionInfo from '../../common/cached_data/SessionInfo';\nimport {SignupButton} from './elements/Buttons';\n\nclass LoginPage extends Component {\n\n  constructor(props){\n      super(props);\n      this.state = {\n          formControls: { name: { value: '' },password: { value: ''}},\n          postResponse: ''\n      }\n  }\n\n  componentDidCatch(error) {\n    alert(\"LoginPage \" + error)\n  }\n\n  render() {\n    return(this.renderLoginForm())\n  }\n\n  //Render Methods\n\n  renderLoginForm = () => {\n    return (\n    <form method=\"post\" onSubmit={this.handleSubmit}>\n      <title>Login Form</title>\n      <div>Login</div>\n      <div>Name:</div>\n      <input type=\"text\" \n              name=\"name\" \n              value={this.state.formControls.name.value} \n              onChange={this.handleChange} \n      />\n      <div>Password:</div>\n      <input type=\"password\" \n              name=\"password\" \n              value={this.state.formControls.password.value} \n              onChange={this.handleChange} \n      />\n      <div>\n        <button type=\"submit\">Submit</button>\n        <HomeButton/>\n        <SignupButton/>\n      </div>\n      {this.state.postResponse}\n    </form>   \n  );}\n\n  //Handler Methods\n\n  handleSubmit = e => {\n    e.preventDefault();\n    fetch('/api/login/submit-form', \n    { \n      method: 'POST', \n      headers: { 'Content-Type': 'application/json'},\n      body: JSON.stringify(this.state)\n    })\n    .then((res) =>{return res.text();})\n    .then((body) => {\n      if (body === \"Username or Password incorrect.\"){\n        this.setState({ postResponse: body});    \n      } else {\n        const parsedbody = JSON.parse(body);\n        SessionInfo.setSessionState(true);\n        SessionInfo.setLoginUser(parsedbody.username);\n        SessionInfo.setLoginUserID(parsedbody.id);\n        this.props.history.push({\n          pathname: '/collections',\n          search: '?page=default',\n          state: {page: \"default\"}\n  })}})}\n\n  handleChange = e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({\n        formControls: {\n            ...this.state.formControls,\n            [name]: {\n            ...this.state.formControls[name],\n            value\n  }}})}\n\n}\n\nexport default LoginPage;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {HomeButton} from '../../common/elements/CommonButtons'\r\n\r\n\r\nclass SignupPage extends Component {\r\n  \r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n        formControls: { name: {value: ''}, password: {value: ''}, email: {value: ''}},\r\n        postResponse: ''\r\n  }}\r\n\r\n  render() {\r\n    return(this.renderSignupForm())\r\n  }\r\n\r\n  //Render Methods\r\n\r\n  renderSignupForm = () => {\r\n    return (\r\n\t\t  <form method=\"post\" onSubmit={this.handleSubmit}>\r\n        <title>Signup Form</title>\r\n\t\t\t\t<div>Sign Up Today!</div>\r\n        <div>Email:</div>\r\n        <input  type=\"text\" \r\n                name=\"email\" \r\n                value={this.state.formControls.email.value} \r\n                onChange={this.handleChange} \r\n        />\r\n        <div>Name:</div>\r\n        <input type=\"text\" \r\n                name=\"name\" \r\n                value={this.state.formControls.name.value} \r\n                onChange={this.handleChange} \r\n        />\r\n        <div>Password:</div>\r\n        <input type=\"password\" \r\n                name=\"password\" \r\n                value={this.state.formControls.password.value} \r\n                onChange={this.handleChange} \r\n        />\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n          <HomeButton/>\r\n          <Link to={'./login'}><button type= \"button\">Back</button></Link>\r\n        </div>\r\n        <p>{this.state.postResponse}</p>\r\n      </form>      \r\n  );}\r\n\r\n  //Handler Methods\r\n  \r\n  handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const response = await fetch('/api/create-new-user', \r\n      {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify(this.state)\r\n    });\r\n    const body = await response.text();\r\n    this.setState({ postResponse: body});\r\n  };\r\n  \r\n  handleChange = e => { \r\n      const name = e.target.name;\r\n      const value = e.target.value;\r\n      this.setState({\r\n        formControls: {\r\n            ...this.state.formControls,\r\n            [name]: {\r\n            ...this.state.formControls[name],\r\n            value\r\n  }}});}\r\n\r\n}\r\n\r\nexport default SignupPage;\r\n\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass CreateCollectionButton extends Component {\r\n    //Button that links to the Create New Collection page\r\n    render() {\r\n      return (<Link to={'./collections?page=create-new-collection'}><button type= \"button\">Create New Collection</button></Link>);\r\n    }\r\n}\r\n\r\nclass SelectCollectionButton extends Component {\r\n    //Button that accesses the chosen Collection\r\n    render() {\r\n        return(\r\n            <Link to={this.props.link_url}>\r\n                <button type= \"button\">Select</button>\r\n            </Link>\r\n        );\r\n    }\r\n}\r\n\r\nclass EditCollectionButton extends Component {\r\n  \r\n    //Button that accesses the chosen Collection for deletion\r\n    render() {\r\n        return (\r\n            <Link to={this.props.link_url}>\r\n                <button type= \"button\">Edit</button>\r\n            </Link>\r\n        );\r\n    }\r\n}\r\n\r\nclass DeleteCollectionButton extends Component {\r\n    //Button that deletes the chosen collection \r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        id: this.props.col_id\r\n      }\r\n    }\r\n    \r\n\r\n    deleteCollection = e => {\r\n      e.preventDefault()\r\n      fetch('/api/collections/delete-collection',\r\n      { \r\n        method: 'POST', \r\n        headers: { 'Content-Type': 'application/json'},\r\n        body: JSON.stringify({collectionID: this.state.id})\r\n      }\r\n      ).then(\r\n        ()=> {\r\n          this.props.updateTopmostState()\r\n        }\r\n      )\r\n    }\r\n  \r\n    render() {\r\n      if (!(this.state.id === this.props.col_id)) {\r\n        this.setState({id: this.props.col_id})\r\n        return (null)\r\n      } else {\r\n        return (<button type= \"button\" onClick={this.deleteCollection}>Delete</button>);\r\n      }\r\n      \r\n    }\r\n}\r\n\r\nexport {\r\n    CreateCollectionButton,\r\n    SelectCollectionButton,\r\n    DeleteCollectionButton,\r\n    EditCollectionButton\r\n};","import React, {Component} from 'react';\r\n\r\nclass CardImagePanel extends Component {\r\n\r\n  constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            defaultCSS: {width:'100%', height:'100%', padding:'0', margin:'0'},\r\n            cardImageURI: '',\r\n            cardImageObj: '',\r\n            imageType: ''\r\n  }}\r\n\r\n  render() {\r\n        if (this.props.paramsType === 'id') {\r\n          this.loadImageByID(this.props.id, this.props.imgType)\r\n        } else {\r\n          this.loadImage(this.props.cardObj, this.props.imgType)\r\n        }\r\n        let imagePanel =\r\n        (this.state.cardImageObj === '' || this.state.imageType === '')?\r\n            (this.state.cardImageURI === '')?\r\n                  //if all fails\r\n                  <div style={this.state.defaultCSS}></div>:\r\n                  //if fetching image data fails\r\n                  <img \r\n                    src={this.state.cardImageURI} \r\n                    alt={this.state.cardImageURI} \r\n                    style={this.state.defaultCSS}\r\n                  />\r\n        :\r\n                <img\r\n                    src={`data:img/${this.state.imageType};base64,${this.state.cardImageObj.toString('base64')}`} \r\n                    alt={this.state.itemName} \r\n                    style={this.state.defaultCSS}\r\n                />\r\n      return (imagePanel)\r\n  }\r\n\r\n  //Loader Functions\r\n  \r\n  loadImage = (cardObj, image_type) => {\r\n    if (!(cardObj === undefined || cardObj === '')) {\r\n        fetch('/api/cards/retrieve-cached-image', {\r\n            method: 'POST', \r\n            headers: { 'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                cardObj: cardObj,\r\n                image_type: image_type})\r\n        })\r\n        .then((res) => {return res.json()})\r\n        .then((result) =>{      \r\n          if (!(this.state.cardImageURI === result.uri)) {\r\n            this.setState( \r\n              {cardImageObj: result.data,\r\n                cardImageURI: result.uri,\r\n                imageType: result.imgType \r\n  })}})}}\r\n\r\n  loadImageByID = (id, image_type) => {\r\n    fetch('/api/collections/fetch-row', \r\n    { \r\n      method: 'POST', \r\n      headers: { 'Content-Type': 'application/json'},\r\n      body: JSON.stringify({card_id: id})\r\n    })\r\n    .then((res) => {return res.json()})\r\n    .then((result) =>{ \r\n      this.loadImage(result[0], image_type)\r\n  })}\r\n\r\n}\r\n      \r\n\r\nexport default CardImagePanel","import React, { Component } from 'react';\r\nimport {EditCollectionButton, SelectCollectionButton, DeleteCollectionButton} from './Buttons'\r\nimport CardImagePanel from '../../../common/images/CardImagePanel';\r\n\r\n\r\nclass ListingsTableElement extends Component {\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { \r\n        item: '', \r\n        id_key: this.props.id_key,\r\n        cardObj: '',\r\n      }\r\n    }\r\n  \r\n    render() {\r\n      this.loadChanges();\r\n      return(this.renderTableElem())\r\n    }\r\n\r\n    //Render Methods\r\n    \r\n    renderTableElem = () => {\r\n      let item = this.state.item;\r\n      if (!(item.name === '')){\r\n        return(\r\n          <div class={this.props.currCSS}>\r\n              <div style={{flex: 2}} class='shrunk_preview_panel'>\r\n                <CardImagePanel\r\n                  cardObj={this.state.cardObj}\r\n                  imgType={{type:'art_crop'}}\r\n                />\r\n              </div>\r\n              <div style={{flex: 2}}>{item.name}</div>\r\n              <div style={{flex: 7}}>{item.description}</div>\r\n              <div style={{flex: 1}}>{item.card_count}</div>\r\n              <div style={{flex: 1}}>${item.sum}</div>\r\n              <div style={{flex: 2}}>\r\n                    <SelectCollectionButton link_url={this.props.link_url}/>\r\n                    <EditCollectionButton link_url={this.props.edit_url}/>\r\n                    <DeleteCollectionButton col_id={item.id} updateTopmostState={this.props.updateTopmostState}/>\r\n              </div>\r\n              <div style={{flex: 1}}>\r\n                <button onClick={this.handleJSONDownload}>As JSON</button>\r\n                </div>\r\n              <div style={{flex: 1}}>\r\n                <button onClick={this.handleCSVDownload}>As CSV</button>\r\n              </div>\r\n          </div>\r\n        )\r\n        } else {\r\n          return(null);\r\n      }\r\n    }\r\n\r\n    //Loader Methods\r\n\r\n    loadChanges = () => {\r\n      if (!(JSON.stringify(this.state.item) === JSON.stringify(this.props.item))) {\r\n          if (this.props.item.showcase_card_id === 0) {\r\n            this.setState({item: this.props.item})\r\n          } else {\r\n            this.loadCardObj(this.props.item.showcase_card_id, (obj) => {\r\n                this.setState({\r\n                item: this.props.item, \r\n                cardObj: obj})\r\n              })\r\n          }\r\n      }\r\n    }\r\n\r\n    loadCardObj = (id, callback) => {\r\n      fetch('/api/collections/fetch-row', {\r\n        method: 'POST', \r\n        headers: { 'Content-Type': 'application/json'},\r\n        body: JSON.stringify({card_id: id})\r\n      })\r\n      .then((res) => {return res.json()})\r\n      .then((cardObj) => {\r\n        cardObj = cardObj[0]\r\n        if (!(cardObj === undefined)) {\r\n              callback(cardObj);\r\n        } else {\r\n              callback('')\r\n        }\r\n      })\r\n    }\r\n\r\n    //Handler Methods\r\n\r\n    handleJSONDownload = () => {\r\n      fetch('/api/collections/fetch-collection-as-JSON', {\r\n        method: 'POST', \r\n        headers: { 'Content-Type': 'application/json'},\r\n        body: JSON.stringify({id: this.state.id_key})\r\n      })\r\n      .then((res) => {\r\n        //this snippet of code downloads the file\r\n        res.blob().then((blob) => {\r\n          let url  = window.URL.createObjectURL(blob);\r\n          let a = document.createElement('a');\r\n          a.href = url;\r\n          a.download = `${this.state.item.name}.json`;\r\n          a.click();\r\n          })\r\n      })\r\n    }\r\n\r\n    handleCSVDownload = () => {\r\n      fetch('/api/collections/fetch-collection-as-CSV', {\r\n        method: 'POST', \r\n        headers: { 'Content-Type': 'application/json'},\r\n        body: JSON.stringify({id: this.state.id_key})\r\n      })\r\n      .then((res) => {\r\n        //this snippet of code downloads the file\r\n        res.blob().then((blob) => {\r\n          let url  = window.URL.createObjectURL(blob);\r\n          let a = document.createElement('a');\r\n          a.href = url;\r\n          a.download = `${this.state.item.name}.csv`;\r\n          a.click();\r\n          })\r\n      })\r\n    }\r\n    \r\n}\r\n\r\nexport default ListingsTableElement;\r\n","import React, { Component } from 'react';\r\nimport SessionInfo from '../../../common/cached_data/SessionInfo'\r\nimport ListingsTableElem from './ListingsTableElem';\r\n\r\n\r\nclass ListingsTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        collectionList: [],\r\n        username: SessionInfo.getSessionUser(),\r\n        userID: SessionInfo.getSessionUserID(),\r\n        postresponse: 'Fetching Data...'\r\n  }}\r\n\r\n  componentDidCatch(error) {\r\n    alert(\"ListingsTable \" + error)\r\n  }\r\n\r\n  render(){\r\n      this.loadList();\r\n      const list = this.state.collectionList;\r\n      return (\r\n      <div>\r\n        {list.length ? \r\n        (<div>\r\n              {this.renderListingTitle()}\r\n              {this.renderListingItems()}\r\n        </div>)\r\n        :(<div></div>)}\r\n        <h2>{this.state.postresponse}</h2>\r\n      </div>\r\n      )\r\n  }\r\n\r\n  //Render Methods\r\n\r\n  renderListingTitle = () => {\r\n    return(\r\n    <div class='listing_title'>\r\n      <div style={{flex: 2}}/>\r\n      <div style={{flex: 2}}>Name</div>\r\n      <div style={{flex: 7}}>Description</div>\r\n      <div style={{flex: 1}}>Cards</div>\r\n      <div style={{flex: 1}}>Price</div>\r\n      <div style={{flex: 2}}>Options</div>\r\n      <div style={{flex: 2}}>Download Collection</div>\r\n    </div>\r\n  )}\r\n\r\n  renderListingItems = () => {\r\n    let currCSS = 'listing_elem_gray'\r\n    return(\r\n      this.state.collectionList.map((item) => {\r\n        currCSS = (currCSS === 'listing_elem_gray')? 'listing_elem_white': 'listing_elem_gray'\r\n        if (!(item.name === '')){\r\n        return(\r\n          <ListingsTableElem \r\n            link_url={`/collections?page=selected&id=${item.id}&name=${encodeURIComponent(item.name)}`}\r\n            edit_url={`/collections?page=edit&id=${item.id}&name=${encodeURIComponent(item.name)}`}\r\n            item = {item}\r\n            id_key = {item.id}\r\n            currCSS = {currCSS}\r\n            updateTopmostState={this.props.updateState}/>\r\n          )\r\n        } else {\r\n          return(null);\r\n        }\r\n  }))}\r\n    \r\n\r\n  //Loader Methods\r\n  \r\n  loadList = () => {\r\n    fetch('/api/collections/getList', \r\n    { \r\n      method: 'POST', \r\n      headers: { 'Content-Type': 'application/json'},\r\n      body: JSON.stringify(this.state)\r\n    })\r\n    .then(res => res.json())\r\n    .then(list => {if (list.length === 0) {\r\n      this.setState({postresponse: 'You have no collections. =('})\r\n    } else { \r\n      if (!(JSON.stringify(this.state.collectionList) === JSON.stringify(list))) {\r\n        this.setState({ collectionList: list, postresponse: '' })}\r\n  }})}\r\n\r\n}\r\n\r\nexport default ListingsTable;\r\n","import React, { Component } from 'react';\r\nimport {HomeButton, SignoutButton} from '../../common/elements/CommonButtons';\r\nimport {CreateCollectionButton} from './elements/Buttons'\r\nimport ListingsTable from './elements/ListingsTable';\r\nimport SessionInfo from '../../common/cached_data/SessionInfo';\r\nimport './css/Listing.css'\r\n\r\nclass ListingsMainPage extends Component {\r\n  \r\n  // Retrieves the list of items from the Express app\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state=({\r\n      loading: ''\r\n    })\r\n    this.updateState.bind(this)\r\n  }\r\n\r\n  componentDidCatch(error) {\r\n    alert(\"ListingsMainPage \" + error)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class='listing_main_page'>\r\n        <div>\r\n          <h1>{SessionInfo.getSessionUser()}'s Collection:</h1>\r\n        </div>\r\n          <ListingsTable updateState={this.updateState}/>\r\n        <div>\r\n            <HomeButton/>\r\n            <SignoutButton/>\r\n            <CreateCollectionButton/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  //Binded Methods\r\n\r\n  updateState = () => {\r\n    //alert(\"Updating top\")\r\n    this.setState({\r\n      loading: \"...\"\r\n    })\r\n  }\r\n\r\n}\r\n\r\nexport default ListingsMainPage;","import React, {Component} from 'react'\r\n\r\n\r\nclass SearchPopupBody extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            formControls: { cardName: { value: '' }},\r\n            postResponse: [],\r\n            submittable: false,\r\n            cardID: ''\r\n        }\r\n    }\r\n\r\n    componentDidCatch(error, info) {\r\n        alert(\"SearchPopupBody \" + error+ info)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                {this.renderSearchBox()}\r\n                {this.renderResults()}      \r\n            </div>\r\n        );\r\n    }\r\n    \r\n    //Render methods\r\n\r\n    renderSearchBox = () => {\r\n        return(\r\n            <div>\r\n            <div style={{backgroundColor: 'gray'}}>\r\n                        <div style={{display:'inline'}}>\r\n                            {\"Search Card:  \"}\r\n                            <input  type=\"text\" \r\n                                    name=\"cardName\" \r\n                                    value={this.state.formControls.cardName.value} \r\n                                    onChange={this.changeHandler} \r\n                                    style= {{width: '70%', right: 0}}\r\n                            />\r\n                            <input  type=\"text\" \r\n                                    name=\"cardID\" \r\n                                    value={this.state.cardID} \r\n                                    disabled=\"true\"\r\n                                    style= {{width: '6%', right: 0}}\r\n                            />\r\n                        </div>\r\n                        <div style={{display:'inline'}}>\r\n                            <button onClick={this.handleSubmit} disabled={!this.state.submittable}>Submit</button>\r\n                        </div>\r\n            </div>\r\n            <div style={{backgroundColor: 'gray', height: '2px'}}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderResults = () => {\r\n        return(\r\n            <div class='popup_search_dropdown'>\r\n                {this.state.postResponse.map((item) => {\r\n                    return(\r\n                    <SearchPopupElement \r\n                        setChosenCard={this.setChosenCard.bind(this)}\r\n                        item = {item}\r\n                    />)\r\n                })}\r\n            </div> \r\n        )\r\n    }\r\n\r\n    //Handler methods\r\n\r\n    changeHandler = event => {\r\n        event.preventDefault()\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        let id = this.state.cardID;\r\n        if (!(this.state.cardID === '')) {\r\n            id = '' \r\n        }\r\n        this.setState({\r\n            formControls: {\r\n                ...this.state.formControls,\r\n                [name]: {\r\n                ...this.state.formControls[name],\r\n                value\r\n                }\r\n            }, \r\n            cardID: id, \r\n            submittable: false\r\n        }, () => {\r\n            fetch('/api/cards/query-card', \r\n            { \r\n                method: 'POST', \r\n                headers: { 'Content-Type': 'application/json'},\r\n                body: JSON.stringify(this.state)\r\n            })\r\n            .then((res) => {return res.text();})\r\n            .then((postResponse) => {\r\n                postResponse = JSON.parse(postResponse)\r\n                if (!(postResponse === this.state.postResponse)){\r\n                    this.setState({postResponse});\r\n            }})\r\n            .catch((err) => {\r\n                alert(err);\r\n        })});  \r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault()\r\n        this.props.setPreviewThenTogglePopup(this.state.cardID, this.state.formControls.cardName.value)\r\n    }\r\n\r\n    //Binded methods\r\n\r\n    setChosenCard = (name, id) => {\r\n        this.setState({\r\n            formControls: {\r\n              cardName: {value: name}\r\n             },\r\n            cardID: id,\r\n            submittable: true\r\n        }, () => {\r\n            fetch('/api/cards/query-card', \r\n            { \r\n                method: 'POST', \r\n                headers: { 'Content-Type': 'application/json'},\r\n                body: JSON.stringify(this.state)\r\n            })\r\n            .then((res) => {return res.text();})\r\n            .then((postResponse) => {\r\n                postResponse = JSON.parse(postResponse)\r\n                if (!(postResponse === this.state.postResponse)){\r\n                    this.setState({postResponse});\r\n            }})\r\n            .catch((err) => {\r\n                alert(err);\r\n        })});  \r\n    }\r\n\r\n}\r\n\r\n//Subclass\r\n\r\nclass SearchPopupElement extends Component {\r\n    \r\n    handleSelect = e => {\r\n        this.props.setChosenCard(this.props.item.name, this.props.item.card_id)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div class='popup_result_hoverable' onClick={this.handleSelect}>\r\n                {`ID: ${this.props.item.card_id} -- ${this.props.item.name} [${this.props.item.set.toUpperCase()}]` }\r\n            </div>\r\n        ) \r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport default SearchPopupBody;","import React, {Component} from 'react'\r\nimport '../css/SearchPopup.css'\r\nimport SearchPopupBody from './SearchPopupBody'\r\n\r\n\r\nclass SearchPopupWindow extends Component {\r\n\r\n    render() {\r\n        return(\r\n            <div class='popup_outer'>\r\n                <div class='popup_body'>\r\n                    <div class='popup_main_panel'>\r\n                        <div class='popup_result_panel'>\r\n                            <SearchPopupBody \r\n                            setPreviewThenTogglePopup={this.props.setPreviewThenTogglePopup}/>\r\n                        </div>\r\n                    <button onClick={this.props.closePopup}>Back</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default SearchPopupWindow","import React, { Component } from 'react';\r\nimport {HomeButton, CollectionListButton} from '../../common/elements/CommonButtons'\r\nimport SessionInfo from '../../common/cached_data/SessionInfo'\r\nimport CardImagePanel from '../../common/images/CardImagePanel'\r\nimport SearchPopupWindow from './elements/SearchPopupWindow'\r\nimport './css/Listing.css'\r\n\r\nclass CreateCollectionPage extends Component {\r\n\r\n  constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        formControls: { name: { value: '' },desc: { value: ''}, preview:{ value: 0}},\r\n        postResponse: '',\r\n        userID: SessionInfo.getSessionUserID(),\r\n        showPopup: false\r\n  }}\r\n\r\n  componentDidCatch(error, info) {\r\n    alert(\"CreateCollectionPage \" + error + info)\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n      {this.renderForm()}\r\n      {this.state.showPopup ? \r\n        <SearchPopupWindow \r\n                closePopup={this.togglePopup.bind(this)}\r\n                defaultPreview={this.state.formControls.preview}\r\n                setPreviewThenTogglePopup={this.setPreviewThenTogglePopup.bind(this)}\r\n        />\r\n        : null\r\n      }\r\n      </div>\r\n  )}\r\n\r\n  //Render Methods\r\n\r\n  renderForm() {\r\n    return (\r\n      <form method=\"post\" onSubmit={this.handleSubmit}>\r\n        <title>Create Collection</title>\r\n        <div>Create a New Collection</div>\r\n        <div>Name:</div>\r\n        <input type=\"text\" \r\n          name=\"name\" \r\n          value={this.state.formControls.name.value} \r\n          onChange={this.handleChange} \r\n        />\r\n        <div>Description:</div>\r\n        <textarea type=\"text\" \r\n          name=\"desc\" \r\n          value={this.state.formControls.desc.value} \r\n          onChange={this.handleChange} \r\n          cols=\"35\" \r\n          wrap=\"soft\"\r\n        />\r\n        <div> Add Preview Card: </div>\r\n        <div>{`ID: ${this.state.formControls.preview.value}`}</div>\r\n        <div class='preview_panel'>\r\n          <CardImagePanel id={this.state.formControls.preview.value} paramsType=\"id\" imgType={{type:'art_crop'}}/>\r\n        </div>\r\n        <button onClick={this.handleCardSearch}>Search Card</button>\r\n        <div>\r\n          <button type=\"submit\">Submit</button>\r\n          <HomeButton/>\r\n          <CollectionListButton/>\r\n        </div>\r\n    {this.state.postResponse}\r\n  </form>   \r\n  );}\r\n\r\n  //Handler Methods\r\n\r\n  handleSubmit = e => {\r\n      e.preventDefault();\r\n      fetch('/api/collections/submit-creation-form', \r\n              { \r\n                method: 'POST', \r\n                headers: { 'Content-Type': 'application/json'},\r\n                body: JSON.stringify(this.state)\r\n              }\r\n            )\r\n      .then((res) =>{return res.json();})\r\n      .then((res) =>{\r\n          if (res === -2) {\r\n              this.setState({postResponse: 'Collection not created.'})\r\n          } else if (res === -1) {\r\n              this.setState({postResponse: 'Name cannot be empty.'})\r\n          } else if (res === -3) {\r\n              this.setState({postResponse: 'Something wrong happened. Please relog in and try again.'})\r\n          } else {\r\n              this.props.history.push({\r\n                  pathname: '/collections',\r\n                  search: '?page=default',\r\n                  state: {page: \"default\"}\r\n  })}})}\r\n\r\n  handleChange = event => {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n    this.setState({\r\n      formControls: {\r\n          ...this.state.formControls,\r\n          [name]: {\r\n          ...this.state.formControls[name],\r\n          value\r\n  }}})}\r\n    \r\n  handleCardSearch = e =>{\r\n      e.preventDefault()\r\n      this.togglePopup()\r\n  }\r\n\r\n  //Binded Methods\r\n\r\n  togglePopup = () => {\r\n      this.setState({\r\n        showPopup: !this.state.showPopup\r\n  });}\r\n\r\n  setPreviewThenTogglePopup = (id, previewCardName) =>{\r\n      let newformControls = {...this.state.formControls}\r\n      newformControls.preview.value = id\r\n      this.setState({\r\n              showPopup: !this.state.showPopup,\r\n              formControls: newformControls,\r\n              previewCardName: previewCardName\r\n  })}\r\n  \r\n };\r\n\r\nexport default CreateCollectionPage;","var readCurrURLParamsAsJSON = () => {\r\n    var params = '';\r\n    (window.location.href).split('?')[1].split('&').forEach((item) =>\r\n    {\r\n        var items = item.split('=');\r\n        params = params.concat(',\"' + decodeURIComponent(items[0]) + '\":\"' + decodeURIComponent(items[1]) + '\"');\r\n    });\r\n    params = params.toString().substring(1);\r\n    params = '{'+ params + '}';\r\n    return JSON.parse(params);\r\n}\r\n\r\nexport default readCurrURLParamsAsJSON;","import React, {Component} from 'react';\r\nimport {HomeButton, CollectionListButton} from '../../common/elements/CommonButtons'\r\nimport SessionInfo from '../../common/cached_data/SessionInfo'\r\nimport readCurrURLParamsAsJSON from '../../common/functions/ReadCurrURLParamsAsJSON'\r\nimport SearchPopupWindow from './elements/SearchPopupWindow'\r\nimport CardImagePanel from './../../common/images/CardImagePanel'\r\nimport './css/Listing.css'\r\n\r\nclass EditCollectionPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            userID: SessionInfo.getSessionUserID(),\r\n            collectionID: readCurrURLParamsAsJSON().id,\r\n            formControls: {\r\n                name: {value: ''},\r\n                desc: {value: ''},\r\n                preview: {value: ''}\r\n            },\r\n            previewCardName: 'NONE',\r\n            postResponse: '',\r\n            showPopup: false\r\n        }\r\n    }\r\n\r\n    componentDidCatch(error) {\r\n        alert(\"EditCollectionPage \" + error)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadDefaultValue()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderForm()}\r\n                {this.renderPopupWindow()}\r\n            </div>\r\n    );}\r\n    \r\n    //Render Methods\r\n\r\n    renderForm = () => {\r\n        return(\r\n            <div>\r\n                <form method=\"post\" onSubmit={this.handleSubmit}>\r\n                    <title>Edit Collection</title>\r\n                    <div>Edit Collection</div>\r\n                    <div> Name: </div>\r\n                    <input type=\"text\" \r\n                            name=\"name\" \r\n                            value={this.state.formControls.name.value} \r\n                            onChange={this.handleChange} \r\n                    />\r\n                    <div> Description: </div>\r\n                    <textarea type=\"text\" \r\n                            name=\"desc\" \r\n                            value={this.state.formControls.desc.value} \r\n                            onChange={this.handleChange} \r\n                            cols=\"35\" \r\n                            wrap=\"soft\"\r\n                    />\r\n                    <div> Add Preview Card: </div>\r\n                    <div>{`ID: ${this.state.formControls.preview.value}`}</div>\r\n                    <div class='preview_panel'>\r\n                        <CardImagePanel id={this.state.formControls.preview.value} paramsType=\"id\" imgType={{type:'art_crop'}}/>\r\n                    </div>\r\n                    <button onClick={this.handleCardSearch}>Search Card</button>\r\n                    <div>\r\n                    <button type=\"submit\">Submit</button>\r\n                    <HomeButton/>\r\n                    <CollectionListButton/>\r\n                    </div>   \r\n                    {this.state.postResponse}\r\n                </form>   \r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderPopupWindow = () => {\r\n        return(this.state.showPopup ? \r\n            <SearchPopupWindow \r\n                    closePopup={this.togglePopup.bind(this)}\r\n                    defaultPreview={this.state.formControls.preview}\r\n                    setPreviewThenTogglePopup={this.setPreviewThenTogglePopup.bind(this)}\r\n            />\r\n            : null)\r\n    }\r\n\r\n    //Loader Methods\r\n\r\n    loadDefaultValue = () => {\r\n        fetch('/api/collections/getList',\r\n        { \r\n            method: 'POST', \r\n            headers: { 'Content-Type': 'application/json'},\r\n            body: JSON.stringify(this.state)\r\n        }\r\n        ).then((res) =>\r\n            {return res.json();})\r\n        .then((json) => {\r\n            let obj = json.filter((item) =>item.id.toString() === this.state.collectionID)[0]\r\n            let newFormControls = {...this.state.formControls}\r\n            newFormControls.name.value = obj.name;\r\n            newFormControls.desc.value = obj.description;\r\n            newFormControls.preview.value = obj.showcase_card_id;\r\n            this.setState({\r\n                formControls: newFormControls\r\n            })\r\n        })\r\n    }\r\n\r\n    //Handler Methods\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault()\r\n        fetch('/api/collections/edit-collection',\r\n            { \r\n                method: 'POST', \r\n                headers: { 'Content-Type': 'application/json'},\r\n                body: JSON.stringify(this.state)\r\n            }\r\n        ).then((resp) => {return resp.json()}).then((res) => {\r\n            if (res === -2) {\r\n                this.setState({postResponse: 'Collection not editted.'})\r\n            } else if (res === -1) {\r\n                this.setState({postResponse: 'Name cannot be empty.'})\r\n            } else if (res === -3) {\r\n                this.setState({postResponse: 'Collection not editted. Please go back to your collections, or login and try again.'})\r\n            } else {\r\n                this.props.history.push({\r\n                    pathname: '/collections',\r\n                    search: '?page=default',\r\n                    state: {page: \"default\"}\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    handleChange = event => {\r\n        event.preventDefault()\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({\r\n          formControls: {\r\n              ...this.state.formControls,\r\n              [name]: {\r\n              ...this.state.formControls[name],\r\n              value\r\n        }}});\r\n    }\r\n\r\n    handleCardSearch = e =>{\r\n        e.preventDefault()\r\n        this.togglePopup()\r\n    }\r\n\r\n    // Binded Methods\r\n    \r\n    togglePopup = () => {\r\n        this.setState({\r\n          showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    setPreviewThenTogglePopup = (id, previewCardName) =>{\r\n        let newformControls = {...this.state.formControls}\r\n        newformControls.preview.value = id\r\n        this.setState({\r\n                showPopup: !this.state.showPopup,\r\n                formControls: newformControls,\r\n                previewCardName: previewCardName\r\n            })\r\n        }\r\n    \r\n}\r\n\r\n\r\n\r\nexport default EditCollectionPage;","import React, {Component} from 'react';\r\n\r\n/*\r\nThis class handles general download fetch requests\r\n*/\r\nclass DownloadPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirect: 'Downloading Data...'\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        //read params and reconstructs it as API uri\r\n        let params = this.readURLAsJSONAPIString();\r\n        let fetchpath = '/api/'.concat(JSON.parse(params).func);\r\n\r\n        //fetch download (needs more work)\r\n        fetch(fetchpath).then((res) => {\r\n            return res.json();\r\n        }).then((res) =>\r\n            {\r\n                alert(res);\r\n            }\r\n        );\r\n\r\n        //automatically pushes back into homepage (will be goback() if that is implementable)\r\n        this.props.history.push('./');      \r\n    }\r\n\r\n    readURLAsJSONAPIString() {\r\n\t\tvar params = '';\r\n\t\tparams = (window.location.href).split('?').slice(1).map((item) =>\r\n\t\t{\r\n\t\t\tvar items;\r\n            items = item.replace('%2F', '/').split('=');\r\n\t\t\tparams = params.concat(',\"' + items[0] + '\":\"' + items[1] + '\"');\r\n\t\t\treturn params;\r\n\t\t}\r\n\t);\r\n\t\tparams = params.toString().substring(1);\r\n\t\tparams = '{'+ params + '}';\r\n\t\treturn params\r\n    }\r\n    \r\n    render() {\r\n        return(\r\n            <div>{this.state.redirect}</div>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default DownloadPage;","import React, { Component } from 'react';\r\nimport SessionInfo from '../../../common/cached_data/SessionInfo';\r\n\r\nconst ImageCSS = {\r\n    display: 'block',\r\n    position: 'absolute',\r\n    padding: '0',\r\n    top:'50',\r\n    left: '50',\r\n    height: 'auto',\r\n    width: '200px',\r\n    'z-index': '10',\r\n}\r\n\r\nconst HiddenImageCSS = {\r\n    display: 'none',\r\n}\r\n\r\nclass SearchResultElement extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            boxStyle: {\r\n                border: '1px orange solid',\r\n                position: 'relative',\r\n                display: 'flex',\r\n                left: '0',\r\n                right:'0',\r\n                margin: '0 0 0 0',\r\n                backgroundColor: 'white',\r\n                color: 'black'\r\n            },\r\n            titleBox:  {\r\n                position: 'relative',\r\n                left: '0',\r\n                height: '100%',\r\n                width: '70%'\r\n            },\r\n            selectBox:  {\r\n                position: 'relative',\r\n                right: '0',\r\n                height: '100%',\r\n                width: '30%',\r\n            },\r\n            nonfoilBox: {\r\n                border: '1px black dotted',\r\n                position: 'relative',\r\n                width: '100%',\r\n                margin: '0'\r\n\r\n            },\r\n            foilBox: {\r\n                border: '1px black dotted',\r\n                position: 'relative',\r\n                width: '100%',\r\n                margin: '0'\r\n                \r\n            },\r\n            imageCSS: HiddenImageCSS,\r\n            collectionID: SessionInfo.getCollectionID()\r\n        }\r\n    }\r\n\r\n    componentDidCatch(err, info) {\r\n        alert(\"SearchBoxElement \" + err)\r\n    }\r\n    \r\n    handleMouseEnter = e => {\r\n        e.preventDefault()\r\n        let newBoxStyle = {...this.state.boxStyle}\r\n        newBoxStyle.backgroundColor = 'blue'\r\n        newBoxStyle.color = 'white'\r\n        this.setState({\r\n            boxStyle: newBoxStyle\r\n        })\r\n        this.showImage()\r\n    }\r\n\r\n    handleMouseLeave = e => {\r\n        e.preventDefault()\r\n        let newBoxStyle = {...this.state.boxStyle}\r\n        newBoxStyle.backgroundColor = 'white'\r\n        newBoxStyle.color = 'black'\r\n        this.setState({\r\n            boxStyle: newBoxStyle\r\n        })\r\n        this.hideImage()\r\n    }\r\n    handleCardMouseDown = e => {\r\n        e.preventDefault()\r\n        let newBoxStyle = {...this.state.nonfoilBox}\r\n        newBoxStyle.backgroundColor = 'grey'\r\n        newBoxStyle.color = 'white'\r\n        this.setState({\r\n            nonfoilBox: newBoxStyle,\r\n        })\r\n    }\r\n\r\n    handleFoilMouseDown = e => {\r\n        e.preventDefault()\r\n        let newBoxStyle = {...this.state.foilBox}\r\n        newBoxStyle.backgroundColor = 'grey'\r\n        newBoxStyle.color = 'white'\r\n        this.setState({\r\n            foilBox: newBoxStyle,\r\n        })\r\n    }\r\n\r\n    handleCardMouseUp = e => {\r\n        e.preventDefault()\r\n        let newBoxStyle = {...this.state.nonfoilBox}\r\n        let newFoilBoxStyle = {...this.state.foilBox}\r\n        newBoxStyle.backgroundColor = undefined\r\n        newBoxStyle.color = undefined\r\n        newFoilBoxStyle.backgroundColor = undefined\r\n        newFoilBoxStyle.color = undefined\r\n        this.setState({\r\n            nonfoilBox: newBoxStyle,\r\n            foilBox: newFoilBoxStyle\r\n        })\r\n    }\r\n    selectFoil = e => {\r\n        e.preventDefault()\r\n        fetch('/api/collections/add-card-to-collection', \r\n            { \r\n            method: 'POST', \r\n            headers: { 'Content-Type': 'application/json'},\r\n            body: JSON.stringify({chosenIsFoil: true, set: this.props.item.set, set_id: this.props.item.set_id, collectionID: this.state.collectionID})\r\n            }\r\n        ).then((res) => {\r\n            this.props.updateTopmostState()\r\n        })\r\n    }\r\n    \r\n    selectCard = e => {\r\n        e.preventDefault()\r\n        fetch('/api/collections/add-card-to-collection', \r\n        { \r\n          method: 'POST', \r\n          headers: { 'Content-Type': 'application/json'},\r\n          body: JSON.stringify({chosenIsFoil: false, set: this.props.item.set, set_id: this.props.item.set_id, collectionID: this.state.collectionID})\r\n        }).then((res) => {\r\n            return res.json();\r\n        }).then((body) =>{\r\n            this.props.updateTopmostState()\r\n        })\r\n\r\n    }\r\n\r\n    showImage = () => {\r\n        this.setState({\r\n            imageCSS: ImageCSS\r\n        })\r\n    }\r\n\r\n    hideImage = () => {\r\n        this.setState({\r\n            imageCSS: HiddenImageCSS\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (     \r\n                <div style={this.state.boxStyle} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\r\n                        {this.props.item.image_uris?\r\n                                <img src={this.props.item.image_uris.border_crop} alt={this.props.item.name} style={this.state.imageCSS}></img>:\r\n                                null\r\n                        }\r\n                        <div style={this.state.titleBox}>\r\n                            <div style={{width:'100%', height: '100%'}}>{`${this.props.item.name} (${this.props.item.set_name})`}</div>\r\n                        </div>\r\n                        <div style={this.state.selectBox} onMouseEnter={this.hideImage} onMouseLeave={this.showImage}>\r\n                            {this.props.item.nonfoil ? (\r\n                                <div type= \"button\" \r\n                                        style={this.state.nonfoilBox} \r\n                                        onMouseDown={this.handleCardMouseDown}\r\n                                        onMouseUp={this.handleCardMouseUp}\r\n                                        onClick={this.selectCard}>\r\n                                            Add Card {this.props.item.prices.usd === null ? \r\n                                                    \"(Price Unavailable)\":`(USD$${this.props.item.prices.usd})`}\r\n                                </div>\r\n                            ) :null}\r\n                            \r\n                            {this.props.item.foil ? (\r\n                                <div type= \"button\" \r\n                                        style={this.state.foilBox}\r\n                                        onMouseDown={this.handleFoilMouseDown}\r\n                                        onMouseUp={this.handleCardMouseUp}\r\n                                        onClick={this.selectFoil}>\r\n                                            Add Foil Card {this.props.item.prices.usd_foil === null ? \r\n                                                            \"(Price Unavailable)\": `(USD$${this.props.item.prices.usd_foil})`}\r\n                                </div>\r\n                            ): null}\r\n                        </div>\r\n                </div>\r\n        )\r\n    }\r\n} \r\n\r\nexport default SearchResultElement;","import React, { Component } from 'react';\r\nimport SearchResultElement from './SearchResultElement'\r\n\r\n\r\n/*Inline CSS Constants*/\r\nconst Dropdown = {\r\n    overflow: 'auto',\r\n    display: 'fixed',\r\n    position: 'absolute',\r\n    height: '100%',\r\n    left: '0',\r\n    right:'0',\r\n    padding: '0',\r\n    margin: '0',\r\n    'z-index': '2'\r\n}\r\n\r\n/*CardSearchBox*/\r\nclass SearchBox extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            formControls: { cardName: { value: '' }},\r\n            postResponse: [],\r\n            \r\n        }\r\n    }\r\n\r\n    componentDidCatch(error, info) {\r\n        alert(\"SearchBox \" + error+ info)\r\n    }\r\n\r\n    changeHandler = event => {\r\n        event.preventDefault()\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({\r\n            formControls: {\r\n              ...this.state.formControls,\r\n              [name]: {\r\n              ...this.state.formControls[name],\r\n              value\r\n        }}}, () => {\r\n            fetch('/api/cards/query-card', \r\n        { \r\n          method: 'POST', \r\n          headers: { 'Content-Type': 'application/json'},\r\n          body: JSON.stringify(this.state)\r\n        }).then((res) => {return res.text();}).then((postResponse) => {\r\n            postResponse = JSON.parse(postResponse)\r\n                if (!(postResponse === this.state.postResponse)){\r\n                    this.setState({postResponse});\r\n                }\r\n        }).catch((err) => {\r\n            alert(err);\r\n        })});  \r\n    }\r\n\r\n    renderSearchBox = () => {\r\n        return(\r\n            <div>\r\n            <div style={{backgroundColor: 'gray'}}>\r\n                        <div>\r\n                            {\"Search Card:  \"}\r\n                            <input  type=\"text\" \r\n                                    name=\"cardName\" \r\n                                    value={this.state.formControls.cardName.value} \r\n                                    onChange={this.changeHandler} \r\n                                    style= {{width: '70%', right: 0}}\r\n                            />\r\n                        </div>   \r\n            </div>\r\n            <div style={{backgroundColor: 'gray', height: '2px'}}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                    {this.renderSearchBox()}\r\n                    <div style={Dropdown}>\r\n                        {this.state.postResponse.map((item) => {\r\n                            return (<SearchResultElement item = {item} updateTopmostState={this.props.updateState}/>) \r\n                        })}\r\n                    </div> \r\n            </div>\r\n    );}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default SearchBox;","class ManaCostWebkit {\r\n\r\n    static listOfManaIcons;\r\n\r\n    static retrieveWebkit = () => {\r\n    if (!(this.listOfManaIcons)) {\r\n        this.listOfManaIcons = require.context( '../images/mana_symbols', true, /\\.svg$/ )\r\n    }\r\n        return this.listOfManaIcons\r\n    }\r\n\r\n}\r\n\r\nexport default ManaCostWebkit","\r\n/*This function replaces a mana cost with its SVG equivalents*/\r\nvar replaceManaCostWithSVGSymbol = async (stringRepresentation) => {\r\n    if (stringRepresentation === undefined || stringRepresentation === '') {\r\n        return ([])\r\n    }\r\n    let listOfCosts = stringRepresentation.replace(/\\s+/g, '').split('{').slice(1);\r\n    listOfCosts = listOfCosts.map((sym) => {\r\n                let remadeSym = '{'.concat(sym)\r\n                return remadeSym\r\n        })\r\n    let list = await fetch('/api/cards/fetch-list-of-SVG',\r\n    {\r\n        method: 'POST', \r\n        headers: { 'Content-Type': 'application/json'},\r\n        body: JSON.stringify(listOfCosts)\r\n    })\r\n    let resolved_list = await list.json();\r\n    return resolved_list.data\r\n}\r\n\r\n\r\nexport default replaceManaCostWithSVGSymbol;","import React, {Component} from 'react'\r\nimport ManaCostWebkit from '../cached_data/ManaCostWebkit'\r\nimport replaceManaCostWithSVGSymbol from '../functions/ReplaceManaCostWithSVGSymbol'\r\n\r\nclass ManaCostPanel extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            listofSVGs:[]\r\n        }\r\n        this.listofManaSymbols = ManaCostWebkit.retrieveWebkit()\r\n    }\r\n\r\n    updateManaCost = () => {\r\n        let cardObj = this.props.cardObj\r\n        let mana_cost;\r\n        if (cardObj.layout === \"transform\") {\r\n            mana_cost = cardObj.card_faces.map((obj)=>{\r\n                return(obj.mana_cost)\r\n            }).join('')\r\n        } else if (cardObj.layout === \"adventure\") {\r\n            mana_cost = cardObj.card_faces.map((obj) => {\r\n                return(obj.mana_cost)\r\n            }).join('//')\r\n        } else {\r\n            mana_cost = cardObj.mana_cost\r\n        }\r\n        mana_cost = mana_cost.split('//').join('{//}')\r\n        if (!(mana_cost === '')) {\r\n            replaceManaCostWithSVGSymbol(mana_cost).then((listURL) =>\r\n            {\r\n                let list=[]\r\n                let listFileName = listURL.map((url) => {\r\n                    if (url === '{//}') {\r\n                        return '//'\r\n                    } else {\r\n                        return url.split(/(\\\\|\\/)/g).slice(-1)[0].trim()\r\n                    }\r\n                })\r\n                let listSVGFiles = this.listofManaSymbols.keys().map((url) => {\r\n                    return url.split(/(\\\\|\\/)/g).slice(-1)[0].trim()\r\n                })\r\n                listFileName.forEach((p) =>{\r\n                    if (p === '//') {\r\n                        list.push('//')\r\n                    } else if (listSVGFiles.includes(p))\r\n                    {\r\n                        let i = this.listofManaSymbols(this.listofManaSymbols.keys().filter((key)=> key.includes(p)))\r\n                        list.push(i)\r\n                    }\r\n                })\r\n                if (!(JSON.stringify(list) === JSON.stringify(this.state.listofSVGs))) {\r\n                    this.setState({\r\n                        listofSVGs: list\r\n                    })\r\n                }\r\n            }).catch((err) => {\r\n                alert(err.message)\r\n            })\r\n        }\r\n    }\r\n\r\n    renderManaSymbol = (item) => {\r\n        return (\r\n            <div>\r\n                <object data={item} type=\"image/svg+xml\" style={this.props.size}>\r\n                    <img src={item} alt=\"imgSym\" style={this.props.size}></img>\r\n                </object>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    render() {\r\n        this.updateManaCost()\r\n        if (this.state.listofSVGs === []) {\r\n            return (null)\r\n        } else {\r\n            return(\r\n                this.state.listofSVGs.map((item) => {\r\n                    if (item === '//') {\r\n                        return <div>{`//`}</div>\r\n                }else {\r\n                    return this.renderManaSymbol(item)\r\n                }}\r\n                )\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default ManaCostPanel","\r\nimport React, { Component } from 'react';\r\nimport SessionInfo from '../../../common/cached_data/SessionInfo';\r\nimport CardImagePanel from '../../../common/images/CardImagePanel'\r\nimport ManaCostPanel from '../../../common/images/ManaCostPanel';\r\n\r\nconst AddRemoveButtonCSS = {\r\n    display: 'block',\r\n    padding:'auto auto',\r\n    margin:'auto auto',\r\n    height: '100%',\r\n    width: '100%',\r\n    font: '15px black',\r\n    'font-weight': 'bold',\r\n}\r\n\r\n/*This component renders a Collection Table element*/\r\nclass CollectionTableElement extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            item: [],\r\n            id_key: this.props.id_key,\r\n        }\r\n    }\r\n\r\n    componentDidCatch(error) {\r\n        alert(\"CollectionTableElement \" + error)\r\n    }\r\n\r\n    render(){  \r\n        this.loadRowObjs() \r\n        return(this.renderRowElement())\r\n    }\r\n\r\n    //Render Methods\r\n\r\n    renderRowElement = () => {\r\n        if (!(JSON.stringify(this.state.item) === '[]')) {\r\n            let cardObj = this.state.item[0]\r\n            return(\r\n            <div>\r\n            <div class={this.props.resBoxCSS}>\r\n                <div class='collection_elem_image_panel'>\r\n                <CardImagePanel \r\n                    cardObj = {cardObj}\r\n                    imgType = {{type: \"normal\"}}\r\n                />\r\n                </div>\r\n                <div style={{flex: 1}}>{this.state.id_key}</div>\r\n                <div style={{flex: 2}} >{cardObj.name}</div>\r\n                <div style={{flex: 2}}>\r\n                    <div style={{display: 'flex', justifyContent: 'center', 'flex-wrap':'wrap'}}>\r\n                        <ManaCostPanel cardObj = {cardObj} size={{width:'20px', height:'auto'}}/>\r\n                    </div>\r\n                </div>\r\n                <div style={{flex: 1}}>{cardObj.rarity.substring(0,1).toUpperCase()}</div>\r\n                <div style={{flex: 3}}>{cardObj.type_line}</div>\r\n                <div style={{flex: 3}}>{`${cardObj.set_name} [${cardObj.set.toUpperCase()}]`}</div>\r\n                <div style={{flex: 1}}>{cardObj.set_id.toUpperCase()}</div>\r\n                <div style={{flex: 1}}>{this.props.cardInfo.is_foil ? <b>Yes</b> : \"No\"}</div>\r\n                <div style={{flex: 1}}>{this.props.cardInfo.is_foil ? \r\n                    (cardObj.prices.usd_foil === null ? 'N/A':`$${cardObj.prices.usd_foil}`)\r\n                    :(cardObj.prices.usd === null ? 'N/A':`$${cardObj.prices.usd}`)}\r\n                </div>\r\n                <div style={{flex: 1}}>{this.props.cardInfo.amt}</div>\r\n                <div style={{flex: 1, 'text-align': 'center'}}>\r\n                    <button style={AddRemoveButtonCSS} onClick={this.handleAddCard}>\r\n                                <div>Add Card</div>\r\n                        </button>\r\n                </div>\r\n                <div style={{flex: 1, 'text-align': 'center'}}>\r\n                            <button style={AddRemoveButtonCSS} onClick={this.handleRemoveCard}>\r\n                                <div>Remove Card</div>\r\n                            </button>\r\n                </div>\r\n            </div>\r\n            </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }        \r\n    }\r\n    \r\n    renderManaSymbol = (item) => {\r\n        return (\r\n            <div>\r\n                <object data={item} type=\"image/svg+xml\" style={{width:'20px', height:'auto'}}>\r\n                    <img src={item} alt=\"imgSym\" style={{width:'20px', height:'auto'}}></img>\r\n                </object>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    //Loader Methods\r\n\r\n    loadRowObjs = () => {\r\n      fetch('/api/collections/fetch-row', \r\n      { \r\n        method: 'POST', \r\n        headers: { 'Content-Type': 'application/json'},\r\n        body: JSON.stringify({card_id: this.props.cardInfo.card_id})\r\n      })\r\n      .then(res => res.json())\r\n      .then(list => {\r\n        if (!(list.length === 0) && !(JSON.stringify(this.state.item) === JSON.stringify(list))) {\r\n                    this.setState({\r\n                        item: list,\r\n                        id_key: this.props.id_key})}\r\n      }).catch((err) => {\r\n        alert(err.message)\r\n        })\r\n    }\r\n\r\n    //Handler Methods\r\n\r\n    handleAddCard = e => {\r\n        e.preventDefault()\r\n        let item = this.state.item[0]\r\n        fetch('/api/collections/add-card-to-collection', \r\n            { \r\n            method: 'POST', \r\n            headers: { 'Content-Type': 'application/json'},\r\n            body: JSON.stringify({chosenIsFoil: this.props.cardInfo.is_foil, set: item.set, set_id: item.set_id, collectionID: SessionInfo.getCollectionID()})\r\n            }\r\n        ).then(() => {\r\n            this.props.updateTopmostState()\r\n        }).catch((err) => {\r\n            alert(err.message)\r\n        })\r\n    }\r\n    \r\n    handleRemoveCard = e => {\r\n        e.preventDefault()\r\n        let item = this.state.item[0]\r\n        fetch('/api/collections/remove-card-from-collection', \r\n            { \r\n            method: 'POST', \r\n            headers: { 'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                chosenIsFoil: this.props.cardInfo.is_foil, \r\n                set: item.set, \r\n                set_id: item.set_id, \r\n                collectionID: SessionInfo.getCollectionID()})\r\n            }\r\n        ).then((res) => {\r\n            this.props.updateTopmostState()\r\n        }).catch((err) => {\r\n            alert(err.message)\r\n        })\r\n    }\r\n}\r\n\r\nexport default CollectionTableElement","import React, {Component} from 'react'\r\n\r\nclass CollectionPageNavPanel extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            lastDisabled:true,\r\n            nextDisabled:true\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        this.loadDisabled()\r\n        return(this.renderNavPanel())\r\n    }\r\n\r\n    //Render Methods\r\n\r\n    renderNavPanel = () => {\r\n        return(\r\n            <div class='collection_title'>\r\n                <div style={{width: '10%'}} class='nav_panel_elements'>\r\n                    <button onClick={this.props.handleLastPage} disabled={this.state.lastDisabled}>Previous Page</button>\r\n                </div>\r\n                <div style={{width: '80%'}} class='nav_panel_elements'>\r\n                    <p>Page {this.props.currPage}/{Math.ceil(this.props.totalElems/this.props.elemPerPage)}</p>\r\n                </div>\r\n                <div style={{width: '10%'}} class='nav_panel_elements'>\r\n                    <button onClick={this.props.handleNextPage} disabled={this.state.nextDisabled}>Next Page</button>\r\n                </div>\r\n            </div>)\r\n    }\r\n\r\n    //Loader Methods\r\n\r\n    loadDisabled = () => {\r\n        let last = (this.props.currPage === 1)? true: false\r\n        let next = (this.props.currPage < Math.ceil(this.props.totalElems/this.props.elemPerPage))? false: true\r\n        if (!(next === this.state.nextDisabled && last === this.state.lastDisabled)) {\r\n            this.setState({\r\n                nextDisabled: next,\r\n                lastDisabled: last\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default CollectionPageNavPanel","import React, { Component } from 'react';\r\nimport SessionInfo from '../../../common/cached_data/SessionInfo';\r\nimport CollectionTableElement from './CollectionTableElement';\r\nimport CollectionPageNavPanel from './CollectionPageNavPanel'\r\n\r\n/*\r\nCollectionTable renders a table that contains all the cards in a user's collection\r\n*/\r\nclass CollectionTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        username: SessionInfo.getSessionUser(),\r\n        userID: SessionInfo.getSessionUserID(),\r\n        collectionID: SessionInfo.getCollectionID(),\r\n        collectionName: SessionInfo.getCollectionName(),\r\n        page: 1,\r\n        elemPerPage: 10\r\n        }\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    alert(\"CollectionTable \" + error + \" \" + JSON.stringify(info))\r\n  }\r\n \r\n  render() {\r\n    return(this.renderTable())\r\n  }\r\n\r\n  //Render Methods\r\n\r\n  renderTable = () => {\r\n    if (!(this.props.collectionList.length === 0)) {\r\n      /*deep copying the prop and sorting it (use fast data-loss copy since everything is JSON)*/\r\n      let list = this.loadSortedList()\r\n      return (\r\n        <div>\r\n          <CollectionPageNavPanel \r\n            handleLastPage={this.handleLastPage.bind(this)}\r\n            handleNextPage={this.handleNextPage.bind(this)}\r\n            currPage={this.state.page}\r\n            elemPerPage={this.state.elemPerPage}\r\n            totalElems={this.props.collectionList.length}\r\n          />\r\n          {this.renderTableTitle()}\r\n          {this.renderTableElems(list)}\r\n          <CollectionPageNavPanel \r\n            handleLastPage={this.handleLastPage.bind(this)}\r\n            handleNextPage={this.handleNextPage.bind(this)}\r\n            currPage={this.state.page}\r\n            elemPerPage={this.state.elemPerPage}\r\n            totalElems={this.props.collectionList.length}\r\n          />\r\n        </div>\r\n        )\r\n    } else {\r\n      return(<div>You have no cards in collection.</div>)\r\n    }\r\n  }\r\n\r\n  renderTableTitle = () => {\r\n    return(\r\n    <div class='collection_table'>\r\n      <div style={{flex: 3}}></div>\r\n      <div style={{flex: 1}}>NO.</div>\r\n      <div style={{flex: 2}}>CARD NAME</div>\r\n      <div style={{flex: 2}}>MANA</div>\r\n      <div style={{flex: 1}}>RARITY</div>\r\n      <div style={{flex: 3}}>TYPE</div>\r\n      <div style={{flex: 3}}>SET</div>\r\n      <div style={{flex: 1}}>ID</div>\r\n      <div style={{flex: 1}}>FOIL</div>\r\n      <div style={{flex: 1}}>PRICE</div>\r\n      <div style={{flex: 1}}>AMT</div>\r\n      <div style={{flex: 1}}></div>\r\n      <div style={{flex: 1}}></div>\r\n    </div>\r\n  )}\r\n\r\n  renderTableElems = (list) => {\r\n    let currCSS = 'collection_result_gray'\r\n    return(\r\n        list.map((info, index) => {\r\n          currCSS = (currCSS === 'collection_result_gray')? 'collection_result_white': 'collection_result_gray'\r\n          if ((index < this.state.page*this.state.elemPerPage) && (index >= (this.state.page-1)*this.state.elemPerPage)) {\r\n            return (\r\n            <CollectionTableElement \r\n              id_key={index+1}\r\n              cardInfo={info}\r\n              resBoxCSS={currCSS} \r\n              updateTopmostState={this.props.updateState}/>\r\n            )\r\n          } else {\r\n            return (null)\r\n          }\r\n        })\r\n  )}\r\n\r\n  //Loader Methods\r\n\r\n  loadSortedList = () => {\r\n    let list = JSON.stringify(this.props.collectionList).valueOf()\r\n    list = JSON.parse(list)\r\n    list.sort((a,b) => {return (a.name.localeCompare(b.name) || a.set.localeCompare(b.set) || a.is_foil-b.is_foil)})\r\n    return list\r\n  }\r\n\r\n  //Binded Methods\r\n\r\n  handleNextPage = e => {\r\n    e.preventDefault()\r\n    let nextPage = this.state.page+1;\r\n    if (!((nextPage) > Math.ceil(this.props.collectionList.length/this.state.elemPerPage))) {\r\n      this.setState({\r\n        page: nextPage,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleLastPage = e => {\r\n    e.preventDefault()\r\n    let nextPage = this.state.page-1;\r\n    if (nextPage >= 1) {\r\n      this.setState({\r\n        page: nextPage\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default CollectionTable;","import React, { Component } from 'react';\r\nimport SessionInfo from '../../../common/cached_data/SessionInfo';\r\nimport CollectionPageNavPanel from './CollectionPageNavPanel'\r\n\r\nclass CollectionTableListForm extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: SessionInfo.getSessionUser(),\r\n      userID: SessionInfo.getSessionUserID(),\r\n      collectionID: SessionInfo.getCollectionID(),\r\n      collectionName: SessionInfo.getCollectionName(),\r\n      page: 1,\r\n      elemPerPage: 50,\r\n      currIndex: 'Name',\r\n      list: []\r\n    }\r\n    this.sortIndices = ['Name', 'Type', 'CMC', 'Colors', 'Set', 'Price', 'Amount']\r\n    this.sortIndexKeys = ['name', 'type_line', 'cmc', 'colors', 'set', 'prices', 'amt']\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    alert(\"CollectionTableListForm \" + error + JSON.stringify(info))\r\n  }\r\n\r\n  render() {\r\n    this.loadList()\r\n    return (this.renderTable())\r\n  }\r\n\r\n  //Render Methods\r\n\r\n  renderTable = () => {\r\n    if (!(this.state.list.length === 0)) {\r\n      return (\r\n        <div>\r\n          <CollectionPageNavPanel\r\n            handleLastPage={this.handleLastPage.bind(this)}\r\n            handleNextPage={this.handleNextPage.bind(this)}\r\n            currPage={this.state.page}\r\n            elemPerPage={this.state.elemPerPage}\r\n            totalElems={this.props.collectionList.length}\r\n          />\r\n          {this.renderDropdownPanel()}\r\n          {this.renderListPanel()}\r\n          <CollectionPageNavPanel\r\n            handleLastPage={this.handleLastPage.bind(this)}\r\n            handleNextPage={this.handleNextPage.bind(this)}\r\n            currPage={this.state.page}\r\n            elemPerPage={this.state.elemPerPage}\r\n            totalElems={this.props.collectionList.length}\r\n          />\r\n        </div>\r\n      )\r\n    } else {\r\n      return (<div>You have no cards in collection.</div>)\r\n    }\r\n  }\r\n\r\n\r\n  renderListPanel = () => {\r\n    let list = this.loadDefaultSortedList()\r\n    switch (this.state.currIndex) {\r\n      case 'CMC':\r\n        return (this.renderListByCMC(list))\r\n      case 'Colors':\r\n        return (this.renderListByColors(list))\r\n      case 'Set':\r\n        return (this.renderListBySet(list))\r\n      case 'Price':\r\n        return (this.renderListByPrice(list))\r\n      default:\r\n        return (this.renderListDefaultSort(list))\r\n    }\r\n  }\r\n\r\n  renderListElement = (info, showprice = false) => {\r\n    info = JSON.parse(JSON.stringify(info.valueOf()))\r\n    let f = info.is_foil ? '*FOIL*' : ''\r\n    let price = info.is_foil ? info.prices['usd_foil'] : info.prices['usd']\r\n    let priceStr =\r\n      showprice ?\r\n        ((price === null) ?\r\n          ' N/A> '\r\n          : (info.amt > 1 ?\r\n            ` $${Number.parseFloat(price * info.amt).toFixed(2)} (${info.amt}x $${Number.parseFloat(price).toFixed(2)})> `\r\n            : ` $${Number.parseFloat(price).toFixed(2)}> `))\r\n        : ''\r\n    return (\r\n    <div >\r\n      <div style={{fontWeight: 'bold', display:'inline-block' }}>{`${priceStr}`}</div>\r\n      <div style={{display:'inline-block' }}>{`${info.amt}x ${info.name} [${info.set.toUpperCase()}] ${f}`}</div>\r\n    </div>\r\n    )\r\n  }\r\n\r\n  renderDropdownPanel = () => {\r\n    return (\r\n      <div id='dropdown_panel'>\r\n        <div id='sortby_position'>{`Sort By: `}</div>\r\n        <select id=\"sort\"\r\n          style={{ display: 'inline-block', width: '200px' }}\r\n          onChange={this.handleSortMethodChange}\r\n          value={this.state.currIndex}>\r\n          {this.sortIndices.map((item) => {\r\n            return (<option value={item}>{`${item}`}</option>)\r\n          })\r\n          }\r\n        </select>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderListByPrice = (list) => {\r\n    let newlist = JSON.stringify(list).valueOf()\r\n    newlist = JSON.parse(newlist)\r\n    newlist.sort((a, b) => {\r\n      let a_price = a.is_foil ? a.prices['usd_foil'] : a.prices['usd']\r\n      let b_price = b.is_foil ? b.prices['usd_foil'] : b.prices['usd']\r\n      return (b_price*b.amt - a_price*a.amt)\r\n    })\r\n    return (this.renderListDefaultSort(newlist, true))\r\n  }\r\n\r\n  renderListDefaultSort = (list, showprice = false) => {\r\n    let newlist = JSON.stringify(list).valueOf()\r\n    newlist = JSON.parse(newlist)\r\n    return (\r\n      newlist.map((info, index) => {\r\n        if ((index < this.state.page * this.state.elemPerPage) && (index >= (this.state.page - 1) * this.state.elemPerPage)) {\r\n          return (<div>{this.renderListElement(info, showprice)}</div>)\r\n        } else { return (null) }\r\n      }))\r\n  }\r\n\r\n  renderListByType = (list) => {\r\n\r\n  }\r\n\r\n  renderListBySet = (list) => {\r\n    let newlist = JSON.stringify(list).valueOf()\r\n    newlist = JSON.parse(newlist)\r\n    newlist.sort((a, b) => { return (a.set.localeCompare(b.set)) })\r\n    return (this.renderListDefaultSort(newlist))\r\n  }\r\n\r\n  renderListByCMC = (list) => {\r\n    list = JSON.stringify(list).valueOf()\r\n    list = JSON.parse(list)\r\n    list.sort((a, b) => { return (b.cmc - a.cmc) })\r\n    let prevCMC = -1\r\n    return (\r\n      list.map((info, index) => {\r\n        if ((index < this.state.page * this.state.elemPerPage) && (index >= (this.state.page - 1) * this.state.elemPerPage)) {\r\n          if (!(prevCMC === info.cmc)) {\r\n            prevCMC = info.cmc\r\n            return (\r\n              <div>\r\n                <div><h3>{`CMC: ${info.cmc}`}</h3></div>\r\n                <div>{this.renderListElement(info)}</div>\r\n              </div>\r\n            )\r\n          } else { return (<div>{this.renderListElement(info)}</div>) }\r\n        } else { return (null) }\r\n      }))\r\n  }\r\n\r\n  renderListByColors = (list) => {\r\n    list = JSON.stringify(list).valueOf()\r\n    list = JSON.parse(list)\r\n    let multiList = list.filter((item) => item.colors.length > 1)\r\n    let colorlessList = list.filter((item) => item.colors.length === 0)\r\n    let monoList = list.filter((item) => item.colors.length === 1)\r\n    monoList.sort((a, b) => { return a.colors[0].localeCompare(b.colors[0] || a.name.localeCompare(b.name) || a.set.localeCompare(b.set) || a.is_foil - b.is_foil)})\r\n    let ind = {index: 0}\r\n    return (\r\n      <div>\r\n        {this.renderMulticolorSublist(multiList, ind)}\r\n        {this.renderMonocolorSublist(monoList, ind)}\r\n        {this.renderColorlessSublist(colorlessList, ind)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderMulticolorSublist = (multiList, ind) => {\r\n    let newPageTrigger = false\r\n    return(multiList.map((info, index) => {\r\n      if ((ind.index < this.state.page * this.state.elemPerPage) && (ind.index >= (this.state.page - 1) * this.state.elemPerPage)) {\r\n        ind.index += 1;\r\n        if (index === 0 || !newPageTrigger) {\r\n          newPageTrigger = true\r\n          return (\r\n            <div>\r\n              <div><h3>{`Multicolored`}</h3></div>\r\n              <div>{this.renderListElement(info)}</div>\r\n            </div>\r\n          )\r\n        } else {return (<div>{this.renderListElement(info)}</div>) }\r\n      } else {ind.index += 1; return (null) }\r\n    }))\r\n  }\r\n\r\n  renderMonocolorSublist = (monoList, ind) => {\r\n    let newPageTrigger = false\r\n    let prevColor = ''\r\n    let colorKeys = { \"W\": 'White', \"U\": 'Blue', \"B\": 'Black', \"R\": 'Red', \"G\": 'Green' }\r\n    return(monoList.map((info) => {\r\n      if ((ind.index < this.state.page * this.state.elemPerPage) && (ind.index >= (this.state.page - 1) * this.state.elemPerPage)) {\r\n        ind.index += 1;\r\n        if (!(info.colors[0] === prevColor) || !newPageTrigger) {\r\n          prevColor = info.colors[0]\r\n          newPageTrigger=true\r\n          return (\r\n            <div>\r\n              <div><h3>{colorKeys[info.colors[0]]}</h3></div>\r\n              <div>{this.renderListElement(info)}</div>\r\n            </div>\r\n          ) \r\n        } else { return (<div>{this.renderListElement(info)}</div>) }\r\n      } else { ind.index += 1; return (null) }\r\n    }))\r\n  }\r\n\r\n  renderColorlessSublist = (colorlessList, ind) => {\r\n    let newPageTrigger = false\r\n    return (colorlessList.map((info, index) => {\r\n      if ((ind.index < this.state.page * this.state.elemPerPage) && (ind.index >= (this.state.page - 1) * this.state.elemPerPage)) {\r\n        ind.index += 1;\r\n        if (index === 0 || !newPageTrigger) {\r\n          newPageTrigger = true\r\n          return (\r\n            <div>\r\n              <div><h3>{`Colorless`}</h3></div>\r\n              <div>{this.renderListElement(info)}</div>\r\n            </div>\r\n          )\r\n        } else {return (<div>{this.renderListElement(info)}</div>) }\r\n      } else {ind.index += 1; return (null) }\r\n    }))\r\n  }\r\n\r\n  //Loader Methods\r\n\r\n  loadList = () => {\r\n    let n = this.props.collectionList.map((item) => {\r\n      return item.card_id;\r\n    })\r\n    let f = this.props.collectionList.map((item) => {\r\n      return item.is_foil;\r\n    })\r\n    let amt = this.props.collectionList.map((item) => {\r\n      return item.amt;\r\n    })\r\n    fetch('/api/cards/fetch-card-attribute',\r\n      {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ lstOfIds: n, is_foil: f, amt: amt, opts: this.sortIndexKeys })\r\n      }\r\n    ).then((res) => {\r\n      return res.json()\r\n    }).then((json) => {\r\n      if (!(JSON.stringify(this.state.list) === JSON.stringify(json))) {\r\n        this.setState({\r\n          list: json\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  loadDefaultSortedList = () => {\r\n    let list = JSON.stringify(this.state.list).valueOf()\r\n    list = JSON.parse(list)\r\n    list.sort((a, b) => { return (a.name.localeCompare(b.name) || a.set.localeCompare(b.set) || a.is_foil - b.is_foil) })\r\n    return list\r\n  }\r\n\r\n  //Handler Methods\r\n\r\n  handleSortMethodChange = e => {\r\n    e.preventDefault()\r\n    this.setState({\r\n      currIndex: e.target.value\r\n    })\r\n  }\r\n\r\n  //Binded Methods\r\n\r\n  handleNextPage = e => {\r\n    e.preventDefault()\r\n    let nextPage = this.state.page + 1;\r\n    if (!((nextPage) > Math.ceil(this.props.collectionList.length/this.state.elemPerPage))) {\r\n      this.setState({\r\n        page: nextPage\r\n      })\r\n    }\r\n  }\r\n\r\n  handleLastPage = e => {\r\n    e.preventDefault()\r\n    let nextPage = this.state.page - 1;\r\n    if (nextPage >= 1) {\r\n      this.setState({\r\n        page: nextPage\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default CollectionTableListForm;","import React, { Component } from 'react';\r\n\r\nclass SwitchToListViewButton extends Component {\r\n    render() {\r\n        return (<button onClick={this.props.onClick}>Switch to List View</button>)\r\n    }\r\n}\r\n\r\nclass SwitchToFullViewButton extends Component {\r\n    render() {\r\n        return (<button onClick={this.props.onClick}>Switch to Detailed View</button>)\r\n    }\r\n}\r\n\r\nexport {\r\n    SwitchToListViewButton,\r\n    SwitchToFullViewButton\r\n}","import React, { Component } from 'react';\r\nimport SessionInfo from '../../common/cached_data/SessionInfo';\r\nimport readCurrURLParamsAsJSONString from '../../common/functions/ReadCurrURLParamsAsJSON'\r\nimport SearchBox from './elements/SearchBox'\r\nimport CollectionTable from './elements/CollectionTable'\r\nimport CollectionTableListForm from './elements/CollectionTableListForm'\r\nimport {CollectionListButton} from '../../common/elements/CommonButtons'\r\nimport {SwitchToFullViewButton, SwitchToListViewButton} from './elements/Buttons'\r\nimport './css/Collection.css'\r\n\r\n\r\nclass CollectionPage extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userID : SessionInfo.getSessionUserID(),\r\n            userName: SessionInfo.getSessionUser(),\r\n            collectionID: readCurrURLParamsAsJSONString().id,\r\n            collectionName: readCurrURLParamsAsJSONString().name,\r\n            cardTableProps: {\r\n                collectionList: [],\r\n                postResponse: 'Fetching data...'\r\n            },\r\n            cardTable: '',\r\n            asList: true\r\n        }\r\n        SessionInfo.setCollectionName(this.state.collection);\r\n        SessionInfo.setCollectionID(this.state.collectionID);\r\n        this.updateState = this.updateState.bind(this)\r\n    };\r\n\r\n    componentDidCatch(error, info) {\r\n        alert(\"CollectionPage \" + error)\r\n    }\r\n\r\n    render() {\r\n        this.loadTable();\r\n        return (<div>\r\n            {this.renderToolbar()}\r\n            {this.renderSearchBar()}\r\n            {this.renderCollectionBar()}\r\n        </div>);\r\n    }\r\n\r\n    //Render Methods\r\n\r\n    renderToolbar = () => {\r\n        return(\r\n            <div class='toolbar_buttons'>\r\n                <div style={{display: 'inline-block'}}><CollectionListButton/></div>\r\n                <div style={{display: 'inline-block'}}>{\r\n                        !(this.state.asList)? \r\n                        <SwitchToListViewButton onClick={this.handleViewSwitch}/>: \r\n                        <SwitchToFullViewButton onClick={this.handleViewSwitch}/>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderSearchBar = () => {\r\n        return(<div class='search_bar_main'><SearchBox updateState={this.updateState}/></div>)\r\n    }\r\n\r\n    renderCollectionBar = () => {\r\n        return(\r\n            <div class='collection_bar_main'>\r\n                    <div class='collection_title'>\r\n                        <h1>{this.state.collectionName}</h1>\r\n                        <p>{this.state.cardTableProps.collectionList[0] ? this.state.cardTableProps.collectionList[0].description: null}</p>\r\n                    </div>\r\n                    <p>{/*JSON.stringify(this.state.cardTableProps.collectionList)*/}</p>\r\n                    {this.state.cardTable}\r\n            </div>\r\n    )}\r\n\r\n    //Loader Methods\r\n\r\n    loadTable = () => {\r\n        fetch('/api/collections/fetch-collection-id', \r\n        { \r\n          method: 'POST', \r\n          headers: { 'Content-Type': 'application/json'},\r\n          body: JSON.stringify(this.state)\r\n        })\r\n        .then(res => res.json())\r\n        .then(list => {\r\n            let newCardTableProps = {...this.state.cardTableProps}\r\n            if (list.length === 0) {\r\n                newCardTableProps.postResponse = 'You have no cards in collection.'\r\n            }\r\n            else {\r\n                newCardTableProps.postResponse = ''\r\n            }\r\n            newCardTableProps.collectionList = list\r\n            if(!(JSON.stringify(newCardTableProps.collectionList) === JSON.stringify(this.state.cardTableProps.collectionList))){\r\n                (!this.state.asList)?\r\n                this.setState({\r\n                    cardTableProps: newCardTableProps,\r\n                    cardTable: <CollectionTable \r\n                                    updateState={this.updateState} \r\n                                    collectionList={newCardTableProps.collectionList} \r\n                                    postResponse={this.state.cardTableProps.postResponse}\r\n                                />\r\n                }):\r\n                this.setState({\r\n                    cardTableProps: newCardTableProps,\r\n                    cardTable: <CollectionTableListForm \r\n                                    updateState={this.updateState} \r\n                                    collectionList={newCardTableProps.collectionList} \r\n                                    postResponse={this.state.cardTableProps.postResponse}\r\n                                />\r\n                })\r\n            }\r\n        })\r\n      }\r\n\r\n    //Handler Methods\r\n    \r\n    handleViewSwitch = e => {\r\n        e.preventDefault()\r\n        this.setState( {\r\n            asList: !this.state.asList,\r\n            cardTable: (this.state.asList)? <CollectionTable \r\n                updateState={this.updateState} \r\n                collectionList={this.state.cardTableProps.collectionList} \r\n                postResponse={this.state.postResponse}\r\n            />: <CollectionTableListForm \r\n                updateState={this.updateState} \r\n                collectionList={this.state.cardTableProps.collectionList} \r\n                postResponse={this.state.postResponse}/>\r\n        })\r\n    }\r\n\r\n    // Binded Methods\r\n\r\n    updateState = () => {this.setState({...this.state})}\r\n\r\n}\r\n\r\nexport default CollectionPage;","import React, { Component} from 'react';\nimport {BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport './App.css';\n\n//Importing pages\nimport HomePage from './pages/home/HomePage';\nimport UserListingPage from './pages/home/UserListingPage';\nimport LoginPage from './pages/login/LoginPage';\nimport SignupPage from './pages/login/SignupPage';\nimport ListingsMainPage from './pages/listing/ListingsMainPage';\nimport CreateCollectionPage from './pages/listing/CreateCollectionPage';\nimport EditCollectionPage from './pages/listing/EditCollectionPage';\nimport DownloadPage from './pages/download/DownloadPage';\nimport CollectionPage from './pages/collection/CollectionPage';\n\n//importing required common tools\nimport SessionInfo from './common/cached_data/SessionInfo';\nimport readCurrURLParamsAsJSON from './common/functions/ReadCurrURLParamsAsJSON';\n\n\nclass App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tSessionInfo.initializeSession();\n\t}\n\n\tcomponentDidCatch(err) {\n\t\talert(\"App Error\" + err)\n\t} \n\n\trender() {\n\t\tconst App = () => (\n\t\t<div>\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path='/' component={HomePage}/>\n\t\t\t\t<Route path='/userlist' component={UserListingPage}/>\n\n\t\t\t\t{/*login page will redirect to collections page if logged in*/}\n\t\t\t\t<Route path='/login' render = {() =>{\n\t\t\t\t\t\tif (SessionInfo.getSessionStatus()) {\n\t\t\t\t\t\t\treturn(<Redirect to='/collections'/>);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn(<Route path= '/login' component = {LoginPage}/>);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}/>\n\t\t\t\t<Route path='/signup' component={SignupPage}/>\t\n\t\t\t\t{/*collections pages will redirect to login page if logged out*/}\t\n\t\t\t\t<Route path='/collections' render = {\n\t\t\t\t\t() => {\t\n\t\t\t\t\t\tif (!SessionInfo.getSessionStatus()){\n\t\t\t\t\t\t\treturn (<Redirect to='/login'/>)\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\t//subrouting\n\t\t\t\t\t\t\t\tswitch (readCurrURLParamsAsJSON().page) {\n\t\t\t\t\t\t\t\tcase \"default\":\t\t\t\t\n\t\t\t\t\t\t\t\t\treturn (<Route path= '/collections' component = {ListingsMainPage}/>);\n\t\t\t\t\t\t\t\tcase \"create-new-collection\":\n\t\t\t\t\t\t\t\t\treturn (<Route path= '/collections' component = {CreateCollectionPage}/>);\n\t\t\t\t\t\t\t\tcase \"selected\":\n\t\t\t\t\t\t\t\t\treturn (<Route path= '/collections' component = {CollectionPage}/>)\n\t\t\t\t\t\t\t\tcase \"edit\":\n\t\t\t\t\t\t\t\t\treturn (<Route path= '/collections' component = {EditCollectionPage}/>)\n\t\t\t\t\t\t\t\tdefault:\t\n\t\t\t\t\t\t\t\t\treturn (<Route path= '/collections' component = {ListingsMainPage}/>);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\t\t\n\t\t\t\t}/>\n\t\t\t\t<Route path='/downloads' render = {\n\t\t\t\t\t() => {\n\t\t\t\t\t\tswitch (readCurrURLParamsAsJSON().func) {\n\t\t\t\t\t\t\t//subrouting\n\t\t\t\t\t\t\tcase '':\n\t\t\t\t\t\t\t\treturn (<Route exact path='/' component= {HomePage}/>)\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\treturn (<Route path='/downloads' component= {DownloadPage}/>)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}/>\n\n\t\t\t\t{/*Default route goes Home/or ERROR page if it gets to that*/}\n\t\t\t\t<Route path=\"*\" render= {() => {return (<Redirect to='/'/>)}}/>\n\n\t\t\t</Switch>\n\t\t</Router>\n\t\t</div>\n\t\t)\n\t\treturn (\n\t\t<Router>\n\t\t<Switch>\n\t\t\t<App/>\n\t\t</Switch>\n\t\t</Router>\n\t\t);\n\t}\n}\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}